{"version":3,"file":"spbc-settings.min.js","sources":["spbc-settings.js"],"sourcesContent":["// Printf for JS\nString.prototype.printf = function() { // eslint-disable-line no-extend-native\n    let formatted = this;\n    /* eslint-disable guard-for-in */\n    for ( let arg in arguments ) { // eslint-disable-line prefer-rest-params\n        let beforeFormatted = formatted.substring(0, formatted.indexOf('%s', 0));\n        let afterFormatted = formatted.substring(formatted.indexOf('%s', 0)+2, formatted.length);\n        formatted = beforeFormatted + arguments[arg] + afterFormatted; // eslint-disable-line prefer-rest-params\n    }\n    return formatted;\n};\n\n/**\n * Switching tabs\n *\n * @param {object} tab\n * @param {object} params\n */\nfunction spbcSwitchTab(tab, params) {\n    let tabName = tab.classList[1].replace('spbc_tab_nav-', '');\n\n    // update url\n    let searchParams = new URLSearchParams(window.location.search);\n    searchParams.set('spbc_tab', tabName);\n    let hashParam = window.location.hash;\n    let newRelativePathQuery = window.location.pathname + '?' + searchParams.toString() + hashParam;\n\n    history.replaceState(null, '', newRelativePathQuery);\n\n    // Hiding a tab 'Backups' if exist\n    if (searchParams.get('spbc_tab') !== 'backups') {\n        jQuery('.spbc_tab_nav-backups').hide();\n    }\n\n    // update active tab\n    jQuery('.spbc_tab_nav').removeClass('spbc_tab_nav--active');\n    jQuery('.spbc_tab').removeClass('spbc_tab--active');\n    jQuery(tab).addClass('spbc_tab_nav--active');\n    jQuery('.spbc_tab-' + tabName).addClass('spbc_tab--active');\n\n    if (!jQuery(tab).data('loaded')) {\n        let data = {\n            action: 'spbc_settings__draw_elements',\n            tab_name: tabName,\n            security: spbcSettings.ajax_nonce,\n        };\n        params = {\n            callback: spbcDrawSettingsCallback,\n            notJson: true,\n            additional: params || null,\n        };\n        spbcSendAJAXRequest( data, params, tab );\n    } else if (params && params.action) {\n        switch (params.action) {\n        case 'highlight':\n            spbcHighlightElement(params.target, params.times);\n            break;\n        case 'click':\n            setTimeout(function() {\n                jQuery('#'+params.additional.target).click();\n            }, 500);\n            break;\n        }\n    }\n}\n\n/**\n * Draws settings\n *\n * @param {*} result\n * @param {*} data\n * @param {*} params\n * @param {*} obj\n */\nfunction spbcDrawSettingsCallback(result, data, params, obj) {\n    jQuery(obj).data('loaded', true);\n    jQuery('.spbc_tab-'+data.tab_name).replaceWith(result);\n    let tab = jQuery('.spbc_tab-'+data.tab_name);\n    tab.addClass('spbc_tab--active');\n\n    jQuery(document).off( 'click', '.spbc_long_description__show');\n    jQuery(document).on('click', '.spbc_long_description__show', function() {\n        self = jQuery(this);\n        spbcSettingsShowDescription(self, self.attr('setting'));\n    });\n\n    jQuery(document).off( 'click', '.spbc_long_recommendation__show');\n    jQuery(document).on('click', '.spbc_long_recommendation__show', function() {\n        self = jQuery(this);\n        spbcSettingsShowRecommendation(self, self.attr('setting'));\n    });\n\n    if (params.additional) {\n        switch (params.additional.action) {\n        case 'highlight':\n            spbcHighlightElement(params.additional.target, params.additional.times);\n            break;\n        case 'click':\n            setTimeout(function() {\n                jQuery('#'+params.additional.target).click();\n            }, 500);\n            break;\n        }\n    }\n\n    jQuery(tab).on('click', '.spbc_hint-send_'+data.tab_name, function() {\n        jQuery('.spbc_hint-send_'+data.tab_name).hide();\n        spbcSendAJAXRequest(\n            {action: 'spbc_send_'+data.tab_name, tab_name: data.tab_name},\n            {callback: spbcSendLogsCallback},\n        );\n    });\n\n    // scroll to anchor\n    if (window.location.hash) {\n        let scrollToTag = document.getElementById(window.location.hash.substring(1));\n        if (scrollToTag !== null) {\n            scrollToTag.scrollIntoView();\n        }\n    }\n\n    document.dispatchEvent(\n        new CustomEvent( 'spbctTabLoaded', {\n            bubbles: true,\n            detail: {tab: data.tab_name},\n        } ),\n    );\n\n    if (typeof spbcHighlightCriticalFilesNotice === 'function') {\n        spbcHighlightCriticalFilesNotice(false);\n    }\n\n    spbcSaveSettingsButtonMobileLayout();\n    window.addEventListener('resize', (event) => {\n        spbcSaveSettingsButtonMobileLayout();\n    });\n}\n\n/**\n * A chunk to hide the custom element \"submit button\" on large screen or make sticky on mobile\n */\nfunction spbcSaveSettingsButtonMobileLayout() {\n    const selector = document.querySelector('div[name=\"spbc_settings--save_button_custom\"]');\n    if (selector) {\n        if (window.innerWidth > 900) {\n            selector.style.display = 'none';\n        } else {\n            selector.style.display = 'flex';\n        }\n    }\n}\n\n/**\n * Sends logs\n *\n * @param {*} result\n * @param {*} data\n * @param {*} params\n * @param {*} obj\n */\nfunction spbcSendLogsCallback(result, data, params, obj) {\n    jQuery('.spbc_tab_nav-'+data.tab_name).data('loaded', false);\n    spbcSwitchTab(document.getElementsByClassName('spbc_tab_nav-'+data.tab_name)[0]);\n}\n\n/**\n * Disables/enables settings by ID\n *\n * @param {array} settingsIDs\n * @param {number} enable\n */\nfunction spbcSettingsDependenciesbyId(settingsIDs, enable) { // eslint-disable-line no-unused-vars\n    if (typeof settingsIDs === 'string') {\n        tmp = [];\n        tmp.push(settingsIDs);\n        settingsIDs = tmp;\n    }\n\n    enable = typeof enable === 'undefined' ? null : +enable;\n\n    settingsIDs.forEach(function(settingID, i, arr) {\n        let elem = document.getElementById('spbc_setting_'+settingID);\n        let doDisable = function() {\n            elem.setAttribute('disabled', 'disabled');\n        };\n        let doEnable = function() {\n            elem.removeAttribute('disabled');\n        };\n\n        if (enable !== null) {\n            // Set\n            enable === 1 ? doEnable() : doDisable();\n        } else {\n            // Switch\n            elem.getAttribute('disabled') === null ? doDisable() : doEnable();\n        }\n    });\n}\n\n/**\n * Recursive in case children found!\n *\n * Settings dependencies\n *\n * @param {array} settingNames\n * @param {number} enable\n */\nfunction spbcSettingsDependencies(settingNames, enable) { // eslint-disable-line no-unused-vars\n    // Cast settingNames to array\n    settingNames = typeof settingNames === 'string' ? settingNames.split(',') : settingNames;\n    enable = typeof enable === 'undefined' ? +event.target.checked : +enable;\n\n    settingNames.forEach(function(settingName, i, arr) {\n        document.getElementsByName('spbc_settings['+settingName+']')\n            .forEach(function( elem, i, arr ) {\n                let doDisable = function() {\n                    elem.setAttribute('disabled', 'disabled');\n                };\n                let doEnable = function() {\n                    elem.removeAttribute('disabled');\n                };\n                if (enable !== null) {\n                    // Set\n                    enable === 1 ? doEnable() : doDisable();\n                } else {\n                    // Switch\n                    elem.getAttribute('disabled') === null ? doDisable() : doEnable();\n                }\n\n                let children = elem.getAttribute('children');\n                if ( children !== null ) {\n                    spbcSettingsDependencies(children, enable && elem.checked);\n                }\n            });\n    });\n}\n\n/**\n * Shows description\n *\n * @param {object} label\n * @param {string} settingId\n */\nfunction spbcSettingsShowDescription(label, settingId) {\n    let removeDescFunc = function(e) {\n        if (\n            typeof e === 'undefined' ||\n            (\n                jQuery(e.target).parent('.spbc_long_desc').length == 0 ||\n                jQuery(e.target).hasClass('spbc_long_desc__cancel')\n            ) && !jQuery(e.target).hasClass('spbc_long_description__show')\n        ) {\n            jQuery('.spbc_long_desc').remove();\n            jQuery(document).off('click', removeDescFunc);\n        }\n    };\n\n    removeDescFunc();\n\n    label.after('<div id=\\'spbc_long_desc__'+settingId+'\\' class=\\'spbc_long_desc\\'></div>');\n    let obj = jQuery('#spbc_long_desc__'+settingId);\n    obj.append('<i class=\\'spbc-icon-spin1 animate-spin\\'></i>')\n        .append('<div class=\\'spbc_long_desc__angle_top_left\\'></div>')\n        .css({\n            top: label.position().top + 25,\n            left: label.position().left + 5,\n        });\n\n\n    spbcSendAJAXRequest(\n        {action: 'spbc_settings__get_description', setting_id: settingId},\n        {\n            spinner: obj.children('img'),\n            callback: function(result, data, params, obj) {\n                obj.empty()\n                    .append('<div class=\\'spbc_long_desc__angle_top_left\\'></div>')\n                    .append('<i class=\\'spbc_long_desc__cancel spbc-icon-cancel\\'></i>')\n                    .append('<h3 class=\\'spbc_long_desc__title\\'>'+result.title+'</h3>')\n                    .append('<p>'+result.desc+'</p>');\n\n                jQuery(document).on('click', removeDescFunc);\n            },\n        },\n        obj,\n    );\n}\n\n/**\n * Shows recommendation\n *\n * @param {object} label\n * @param {string} settingId\n */\nfunction spbcSettingsShowRecommendation(label, settingId) {\n    let removeRecommendationFunc = function(e) {\n        if (\n            typeof e === 'undefined' ||\n            (\n                jQuery(e.target).parent('.spbc_long_desc').length == 0 ||\n                jQuery(e.target).hasClass('spbc_long_desc__cancel')\n            ) && !jQuery(e.target).hasClass('spbc_long_recommendation__show')\n        ) {\n            jQuery('.spbc_long_desc').remove();\n            jQuery(document).off('click', removeRecommendationFunc);\n        }\n    };\n\n    removeRecommendationFunc();\n\n    label.after('<div id=\\'spbc_long_desc__'+settingId+'\\' class=\\'spbc_long_desc\\'></div>');\n    let obj = jQuery('#spbc_long_desc__'+settingId);\n    obj.append('<i class=\\'spbc-icon-spin1 animate-spin\\'></i>')\n        .append('<div class=\\'spbc_long_desc__angle_top_left\\'></div>')\n        .css({\n            top: label.position().top + 25,\n            left: label.position().left + 5,\n        });\n\n\n    spbcSendAJAXRequest(\n        {action: 'spbc_settings__get_recommendation', setting_id: settingId},\n        {\n            spinner: obj.children('img'),\n            callback: function(result, data, params, obj) {\n                obj.empty()\n                    .append('<div class=\\'spbc_long_desc__angle_top_left\\'></div>')\n                    .append('<i class=\\'spbc_long_desc__cancel spbc-icon-cancel\\'></i>')\n                    .append('<h3 class=\\'spbc_long_desc__title\\' style=\\'margin-right: 2em;\\'>'+result.title+'</h3>')\n                    .append('<p>'+result.desc+'</p>');\n\n                jQuery(document).on('click', removeRecommendationFunc);\n            },\n        },\n        obj,\n    );\n}\n\n/**\n * Shows/hides full text\n */\nfunction spbcStartShowHide() { // eslint-disable-line no-unused-vars\n    jQuery('.spbcShortText')\n        .off('mouseover' )\n        .on('mouseover', function() {\n            jQuery(this).next().show();\n        })\n        .off('mouseout' )\n        .on('mouseout', function() {\n            jQuery(this).next().hide();\n        });\n    jQuery('.spbcFullText')\n        .off('mouseout' )\n        .on('mouseout', function() {\n            jQuery(this).hide();\n        })\n        .off('mouseover' )\n        .on('mouseover', function() {\n            jQuery(this).show();\n        });\n}\n\n/**\n * Reloads last scan info\n */\nfunction spbcScannerReloadScanInfo() { // eslint-disable-line no-unused-vars\n    jQuery('.spbc_hint__last_scan_title').text(spbcScaner.look_below_for_scan_res);\n    const data = {\n        action: 'spbc_scanner__last_scan_info',\n    };\n    const params = {\n        callback: (result) => {\n            document.getElementById('spbc_scanner__last_scan_info').innerText = result.data;\n        },\n    };\n    spbcSendAJAXRequest(data, params);\n}\n\n/**\n * Generate and save confirmation code\n *\n * @return {object}\n */\nfunction spbctGenerateConfirmationCode() {\n    let data = {};\n    let res = {};\n    res.success = false;\n    data.security = spbcSettings.ajax_nonce;\n    data.action = 'spbc_generate_confirmation_code';\n\n    jQuery.ajax({\n        type: 'POST',\n        async: false,\n        url: spbcSettings.ajaxurl,\n        data: data,\n        success: function(result) {\n            if (result.success) {\n                res.success = true;\n            } else {\n                res.text = result.data;\n            }\n        },\n    });\n    return res;\n}\n\n/**\n * Check confirmation code\n *\n * @param {object} radioButton\n * @param {number} timeout\n * @param {object} timer\n */\nfunction spbctCheckConfirmationCode( radioButton, timeout, timer ) {\n    let element = radioButton;\n    let data = {};\n    data.security = spbcSettings.ajax_nonce;\n    data.action = 'spbc_check_confirmation_code';\n    data.code = jQuery('#confirmation-code input').val();\n\n    jQuery.ajax({\n        type: 'POST',\n        async: false,\n        url: spbcSettings.ajaxurl,\n        data: data,\n        success: function(result) {\n            if (result.success) {\n                jQuery('[name *= 2fa__enable]').attr('checked', '');\n                element.checked = true;\n                jQuery('#spbc_setting_2fa__roles').removeAttr('disabled');\n                jQuery('#spbc_setting_2fa__roles > option:first').attr('selected', 'selected');\n                clearTimeout( timeout );\n                timer.remove();\n                jQuery('#confirmation-code').dialog( 'close' );\n            } else {\n                alert('Code verification failed!');\n            }\n        },\n    });\n}\n\n/**\n * Checking current account status for renew notice\n */\nfunction spbcBannerCheck() {\n    let bannerChecker = setInterval( function() {\n        spbcSendAJAXRequest(\n            {action: 'spbc_settings__check_renew_banner'},\n            {\n                callback: function(result, data, params, obj) {\n                    if (result.close_renew_banner) {\n                        if (jQuery('#spbc_renew_notice').length) {\n                            jQuery('#spbc_renew_notice').hide('slow');\n                        }\n                        if (jQuery('#spbc_trial_notice').length) {\n                            jQuery('#spbc_trial_notice').hide('slow');\n                        }\n                        clearInterval(bannerChecker);\n                    }\n                },\n            },\n        );\n    }, 60000);\n}\n\njQuery(document).ready(function() {\n    // Checking email receiving possibility for activation 2FA\n    jQuery(document).on('click', '[name*=fa__enable]:not([value=0]),#confirmation-code--resend', function(e) {\n        e.preventDefault();\n\n        let view = '<div class=\"circle circle--small -animation--circle -animation--30s \">' +\n            '<div class=\"circle-inner\"></div></div>';\n        jQuery('#confirmation-code--resend').attr('disabled', 'disabled')\n            .append(view);\n        let enableResend = setTimeout(function() {\n            jQuery('#confirmation-code--resend').removeAttr('disabled');\n            jQuery('#confirmation-code--resend>.circle').remove();\n        }, 30000);\n\n        let res = spbctGenerateConfirmationCode();\n        if ( res.success ) {\n            jQuery('#confirmation-code input').val('');\n            jQuery('#confirmation-code').dialog({\n                modal: true,\n                title: 'Confirmation code',\n                width: 310,\n                buttons: {\n                    Cancel: function() {\n                        jQuery( this ).dialog( 'close' );\n                        clearTimeout( enableResend );\n                        jQuery('#confirmation-code--resend>.circle').remove();\n                    },\n                    Ok: function() {\n                        let selector = '#confirmation-code--resend>.circle';\n                        spbctCheckConfirmationCode(e.target, enableResend, jQuery(selector));\n                    },\n                },\n                draggable: false,\n                resizable: false,\n            });\n        } else {\n            alert(res.text);\n        }\n    });\n\n    if (jQuery('#spbc_renew_notice').length || jQuery('#spbc_trial_notice').length) {\n        spbcBannerCheck();\n    }\n\n    // Sync button migrated to react\n\n    if ( spbcSettings.key_changed ) {\n        jQuery('#spbc_button__sync').click();\n    }\n\n    // Get Key Auto button\n    jQuery(document).on('click', '#spbc_setting_get_key_auto', function() {\n        spbcSendAJAXRequest(\n            {action: 'spbc_get_key_auto', ct_admin_timezone: jQuery('#spbc_admin_timezone').val()},\n            {\n                timeout: 25000,\n                button: document.getElementById('spbc_setting_get_key_auto' ),\n                spinner: jQuery('#spbc_setting_get_key_auto .spbc_preloader_button' ),\n                callback: function(result, data, params, obj) {\n                    jQuery('#spbc_setting_get_key_auto .spbc_success').show(300);\n                    setTimeout(function() {\n                        jQuery('#spbc_setting_get_key_auto .spbc_success').hide(300);\n                    }, 2000);\n                    if (result.reload) {\n                        document.location.reload();\n                    }\n                    if (result.msg) {\n                        spbcModal.open().putError(result.msg);\n                    }\n                    if (result.getTemplates) {\n                        spbcModal.loaded = result.getTemplates;\n                        spbcModal.open();\n                        document.addEventListener('spbcModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                    }\n                },\n            },\n        );\n    });\n\n    // Import settings\n    jQuery( document ).on('click', '#spbc_settings_templates_import_button', function() {\n        jQuery('#spbc-ajax-result').remove();\n        let optionSelected = jQuery('option:selected', jQuery('#spbc_settings_templates_import'));\n        let templateNameInput = jQuery('#spbc_settings_templates_import_name');\n        templateNameInput.css('border-color', 'inherit');\n        if ( typeof optionSelected.data('id') === 'undefined' ) {\n            console.log( 'Attribute \"data-id\" not set for the option.' );\n            return;\n        }\n        let data = {\n            'template_id': optionSelected.data('id'),\n            'template_name': optionSelected.data('name'),\n            'settings': optionSelected.data('settings'),\n        };\n        let button = this;\n        spbcSendAJAXRequest(\n            {action: 'spbc_settings_templates_import', data: data},\n            {\n                timeout: 25000,\n                button: button,\n                spinner: jQuery('#spbc_settings_templates_import_button .spbc_preloader_button' ),\n                callback: function(result, data, params, obj) {\n                    let selector;\n                    if (result.success) {\n                        selector = '<p id=\\'spbc-ajax-result\\' class=\\'success\\'>' + result.data + '</p>';\n                        jQuery( selector ).insertAfter( jQuery(button) );\n                        jQuery('#spbc_settings_templates_import_button .spbc_success').show(300);\n                        setTimeout(function() {\n                            jQuery('#spbc_settings_templates_import_button .spbc_success').hide(300);\n                        }, 2000);\n                        document.addEventListener('spbcModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                        setTimeout(function() {\n                            spbcModal.close();\n                        }, 2000);\n                    } else {\n                        selector = '<p id=\\'spbc-ajax-result\\' class=\\'error\\'>' + result.data + '</p>';\n                        jQuery( selector ).insertAfter( jQuery(button) );\n                    }\n                },\n            },\n        );\n    });\n\n    // Export settings\n    jQuery( document ).on('click', '#spbc_settings_templates_export_button', function() {\n        jQuery('#spbc-ajax-result').remove();\n        let optionSelected = jQuery('option:selected', jQuery('#spbc_settings_templates_export'));\n        let templateNameInput = jQuery('#spbc_settings_templates_export_name');\n        templateNameInput.css('border-color', 'inherit');\n        if ( typeof optionSelected.data('id') === 'undefined' ) {\n            console.log( 'Attribute \"data-id\" not set for the option.' );\n            return;\n        }\n        let data;\n        if ( optionSelected.data('id') === 'new_template' ) {\n            let templateName = templateNameInput.val();\n            if ( templateName === '' ) {\n                templateNameInput.css('border-color', 'red');\n                return;\n            }\n            data = {\n                'template_name': templateName,\n            };\n        } else {\n            data = {\n                'template_id': optionSelected.data('id'),\n            };\n        }\n        let button = this;\n        spbcSendAJAXRequest(\n            {action: 'spbc_settings_templates_export', data: data},\n            {\n                timeout: 25000,\n                button: button,\n                spinner: jQuery('#spbc_settings_templates_export_button .spbc_preloader_button' ),\n                callback: function(result, data, params, obj) {\n                    let selector;\n                    if (result.success) {\n                        selector = '<p id=\\'spbc-ajax-result\\' class=\\'success\\'>' + result.data + '</p>';\n                        jQuery( selector ).insertAfter( jQuery(button) );\n                        jQuery('#spbc_settings_templates_export_button .spbc_success').show(300);\n                        setTimeout(function() {\n                            jQuery('#spbc_settings_templates_export_button .spbc_success').hide(300);\n                        }, 2000);\n                        document.addEventListener('spbcModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                        setTimeout(function() {\n                            spbcModal.close();\n                        }, 2000);\n                    } else {\n                        selector = '<p id=\\'spbc-ajax-result\\' class=\\'error\\'>' + result.data + '</p>';\n                        jQuery( selector ).insertAfter( jQuery(button) );\n                    }\n                },\n            },\n        );\n    });\n\n    // Reset settings\n    jQuery( document ).on('click', '#spbc_settings_templates_reset_button', function() {\n        let button = this;\n        spbcSendAJAXRequest(\n            {action: 'spbc_settings_templates_reset'},\n            {\n                timeout: 25000,\n                button: button,\n                spinner: jQuery('#spbc_settings_templates_reset_button .spbc_preloader_button' ),\n                callback: function(result, data, params, obj) {\n                    let selector;\n                    if (result.success) {\n                        selector = '<p id=\\'spbc-ajax-result\\' class=\\'success\\'>' + result.data + '</p>';\n                        jQuery( selector ).insertAfter( jQuery(button) );\n                        jQuery('#spbc_settings_templates_reset_button .spbc_success').show(300);\n                        setTimeout(function() {\n                            jQuery('#spbc_settings_templates_reset_button .spbc_success').hide(300);\n                        }, 2000);\n                        document.addEventListener('spbcModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                        setTimeout(function() {\n                            spbcModal.close();\n                        }, 2000);\n                    } else {\n                        selector = '<p id=\\'spbc-ajax-result\\' class=\\'error\\'>' + result.data + '</p>';\n                        jQuery( selector ).insertAfter( jQuery(button) );\n                    }\n                },\n            },\n        );\n    });\n\n    jQuery(document).on('change', '#spbc_settings_templates_export', function() {\n        let optionSelected = jQuery('option:selected', this);\n        if ( optionSelected.data('id') === 'new_template' ) {\n            jQuery(this).parent().parent().find('#spbc_settings_templates_export_name').show();\n        } else {\n            jQuery(this).parent().parent().find('#spbc_settings_templates_export_name').hide();\n        }\n    });\n\n    //* TAB_CONTROL\n    // migrated to react\n    //* / REFRESH TAB IF ctrl+F5 END\n\n    /**\n     * Change cleantalk account email\n     */\n    jQuery(document).on('click', '#spbc-change-account-email', function(e) {\n        e.preventDefault();\n\n        let $this = jQuery(this);\n        let accountEmailField = jQuery('#spbc-account-email');\n        let accountEmail = accountEmailField.text();\n\n        spbcToggleClass($this, 'active');\n\n        if ($this.hasClass('active')) {\n            $this.text($this.data('save-text'));\n            accountEmailField.attr('contenteditable', 'true');\n            accountEmailField.focus();\n            accountEmailField.on('keydown', function(e) {\n                if (e.code === 'Enter') {\n                    e.preventDefault();\n                }\n            });\n            accountEmailField.on('input', function(e) {\n                if (e.inputType === 'insertParagraph') {\n                    e.preventDefault();\n                }\n            });\n        } else {\n            spbcSendAJAXRequest(\n                {\n                    action: 'spbc_update_account_email',\n                    accountEmail: accountEmail,\n                },\n                {\n                    timeout: 5000,\n                    callback: function(result, data, params, obj) {\n                        if (result.success !== undefined && result.success === 'ok') {\n                            if (result.manuallyLink !== undefined) {\n                                jQuery('#spbc-key-manually-link').attr('href', result.manuallyLink);\n                            }\n                        }\n\n                        if (result.error !== undefined) {\n                            jQuery('#spbc-account-email').css('border-color', 'red');\n                        }\n                    },\n                    errorOutput: function(msg) {\n                        spbcModal.loaded = msg;\n                        spbcModal.open();\n                    },\n                },\n            );\n\n            accountEmailField.attr('contenteditable', 'false');\n            $this.text($this.data('default-text'));\n        }\n    });\n\n    jQuery(document).on('click', '.spbct_notice-dismiss', function(e) {\n        let classListNotice = this.parentElement.classList;\n        let classNoticeForClose = classListNotice[classListNotice.length - 1];\n\n        document.querySelectorAll('.' + classNoticeForClose).forEach((element) => {\n            element.parentElement.setAttribute('style', 'display:none;');\n            spbcSetCookie(classNoticeForClose, 1, 86400 * 30);\n        });\n    });\n\n    // @ToDo need to be refactored - this is the code dublication\n    jQuery(document).off( 'click', '.spbc_long_description__show');\n    jQuery(document).on('click', '.spbc_long_description__show', function() {\n        self = jQuery(this);\n        spbcSettingsShowDescription(self, self.attr('setting'));\n    });\n\n    // @ToDo need to be refactored - this is the code dublication\n    jQuery(document).off( 'click', '.spbc_long_recommendation__show');\n    jQuery(document).on('click', '.spbc_long_recommendation__show', function() {\n        self = jQuery(this);\n        spbcSettingsShowRecommendation(self, self.attr('setting'));\n    });\n});\n\n/**\n * Toggle class for DOM elements\n * @param {Array} arr\n * @param {string} className\n * @return {void}\n */\nfunction spbcToggleClass(arr, className) {\n    for (let i=0; i<arr.length; i++) {\n        arr[i].classList.toggle(className);\n    }\n}\n\n/**\n * Action to confirm creating support user.\n * @param {event} e\n * @return {void}\n */\nfunction spbcCreateSupportUser(e) { // eslint-disable-line no-unused-vars\n    e.preventDefault();\n    let localTextArray = spbcSettings.support_user_creation_msg_array;\n    spbcModal.open();\n    spbcModal.confirm(\n        localTextArray.confirm_header,\n        localTextArray.confirm_text,\n        '',\n        spbcCreateUserCallback,\n    );\n}\n\n/**\n * Support user creation callback.\n * @return {void}\n */\nfunction spbcCreateUserCallback() {\n    spbcSendAJAXRequest(\n        {\n            action: 'spbc_create_support_user',\n        },\n        {\n            timeout: 5000,\n            callback: function(result, data, params, obj) {\n                let localTextArray = spbcSettings.support_user_creation_msg_array;\n                let popupMsg = localTextArray.default_error;\n                const responseValid = (\n                    typeof result === 'object' &&\n                    result.hasOwnProperty('success') &&\n                    result.hasOwnProperty('user_created') &&\n                    result.hasOwnProperty('mail_sent') &&\n                    result.hasOwnProperty('cron_updated') &&\n                    result.hasOwnProperty('user_data') &&\n                    result.hasOwnProperty('result_code') &&\n                    typeof result.user_data === 'object' &&\n                    result.user_data.hasOwnProperty('username') &&\n                    result.user_data.hasOwnProperty('email') &&\n                    result.user_data.hasOwnProperty('password')\n                );\n                if (responseValid && result.success) {\n                    if (result.user_created) {\n                        let mailSentMsg = '';\n                        let successCreationMsg = '';\n                        let cronUpdatedMsg = localTextArray.cron_updated;\n\n                        if (result.mail_sent) {\n                            mailSentMsg = localTextArray.mail_sent_success;\n                        } else {\n                            mailSentMsg = localTextArray.mail_sent_error;\n                        }\n\n                        if (result.result_code === 0) {\n                            successCreationMsg = localTextArray.user_updated;\n                        } else {\n                            successCreationMsg = localTextArray.user_created;\n                        }\n\n                        jQuery('#spbc_stats_user_creation_username').text(result.user_data.username);\n                        jQuery('#spbc_stats_user_creation_email').text(result.user_data.email);\n                        jQuery('#spbc_stats_user_creation_password').text(result.user_data.password);\n                        jQuery('#spbc_stats_user_creation_mail_sent').text(mailSentMsg);\n                        jQuery('#spbc_stats_user_creation_title').text(successCreationMsg);\n                        jQuery('#spbc_stats_user_creation_cron_updated').text(cronUpdatedMsg);\n                        jQuery('.spbc_stats_user_creation_result').css('display', 'block');\n                        return;\n                    } else {\n                        if (result.result_code === -2) {\n                            popupMsg = localTextArray.invalid_permission;\n                        } else if (result.result_code === -1) {\n                            popupMsg = localTextArray.unknown_creation_error;\n                        } else if (result.result_code === -4) {\n                            popupMsg = localTextArray.on_cooldown;\n                        } else if (result.result_code === -5) {\n                            popupMsg = localTextArray.email_is_busy;\n                        }\n                    }\n                }\n                spbcModal.loaded = popupMsg;\n                spbcModal.open();\n            },\n            errorOutput: function(msg) {\n                spbcModal.loaded = msg;\n                spbcModal.open();\n            },\n        },\n    );\n}\n"],"names":["spbcSwitchTab","tab","params","let","tabName","classList","replace","searchParams","URLSearchParams","window","location","search","hashParam","set","hash","newRelativePathQuery","pathname","toString","history","replaceState","get","jQuery","hide","removeClass","addClass","data","action","spbcHighlightElement","target","times","setTimeout","additional","click","tab_name","security","spbcSettings","ajax_nonce","callback","spbcDrawSettingsCallback","notJson","spbcSendAJAXRequest","result","obj","replaceWith","document","off","on","spbcSettingsShowDescription","self","this","attr","spbcSettingsShowRecommendation","spbcSendLogsCallback","scrollToTag","getElementById","substring","scrollIntoView","dispatchEvent","CustomEvent","bubbles","detail","spbcHighlightCriticalFilesNotice","spbcSaveSettingsButtonMobileLayout","addEventListener","selector","querySelector","innerWidth","style","display","getElementsByClassName","spbcSettingsDependenciesbyId","settingsIDs","enable","tmp","push","forEach","settingID","i","arr","elem","doDisable","setAttribute","doEnable","removeAttribute","getAttribute","spbcSettingsDependencies","settingNames","split","event","checked","settingName","getElementsByName","children","label","settingId","removeDescFunc","e","parent","length","hasClass","remove","after","append","css","top","position","left","setting_id","spinner","empty","title","desc","removeRecommendationFunc","spbcStartShowHide","next","show","spbcScannerReloadScanInfo","text","spbcScaner","look_below_for_scan_res","innerText","spbctGenerateConfirmationCode","res","success","ajax","type","async","url","ajaxurl","spbctCheckConfirmationCode","radioButton","timeout","timer","element","code","val","removeAttr","clearTimeout","dialog","alert","spbcBannerCheck","bannerChecker","setInterval","close_renew_banner","clearInterval","spbcToggleClass","className","toggle","spbcCreateSupportUser","preventDefault","localTextArray","support_user_creation_msg_array","spbcModal","open","confirm","confirm_header","confirm_text","spbcCreateUserCallback","popupMsg","default_error","hasOwnProperty","user_data","user_created","mailSentMsg","successCreationMsg","cronUpdatedMsg","cron_updated","mail_sent","mail_sent_success","mail_sent_error","result_code","user_updated","username","email","password","invalid_permission","unknown_creation_error","on_cooldown","email_is_busy","loaded","errorOutput","msg","String","prototype","printf","formatted","arg","arguments","beforeFormatted","indexOf","afterFormatted","ready","enableResend","modal","width","buttons","Cancel","Ok","draggable","resizable","key_changed","ct_admin_timezone","button","reload","putError","getTemplates","optionSelected","console","log","template_id","template_name","settings","insertAfter","close","templateNameInput","templateName","find","$this","accountEmailField","accountEmail","focus","inputType","undefined","manuallyLink","error","classListNotice","parentElement","classNoticeForClose","querySelectorAll","spbcSetCookie"],"mappings":"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"}