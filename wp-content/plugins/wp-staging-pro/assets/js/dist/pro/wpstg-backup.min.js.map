{"version":3,"file":"wpstg-backup.min.js","sources":["../../src/modules/wpstg-hover-intent.js","../../src/wpstg.js","../../src/modules/wpstg-dom-utils.js","../../../node_modules/regenerator-runtime/runtime.js","../../src/pro/modules/wpstg-backup.js","../../src/pro/modules/wpstg-backup-create.js","../../src/pro/modules/wpstg-backup-delete.js","../../src/pro/modules/wpstg-backup-edit.js","../../src/pro/modules/wpstg-backup-restore.js","../../src/pro/modules/wpstg-backup-upload.js"],"sourcesContent":["'use strict';\n\n/**\n * This is a namespaced port of https://github.com/tristen/hoverintent,\n * with slight modification to accept selector with dynamically added element in dom,\n * instead of just already present element.\n *\n * @param {HTMLElement} parent\n * @param {string} selector\n * @param {CallableFunction} onOver\n * @param {CallableFunction} onOut\n *\n * @return {object}\n */\nexport default function(parent, selector, onOver, onOut) {\n  let x; let y; let pX; let pY;\n  let mouseOver = false;\n  let focused = false;\n  const h = {};\n  let state = 0;\n  let timer = 0;\n\n  let options = {\n    sensitivity: 7,\n    interval: 100,\n    timeout: 0,\n    handleFocus: false,\n  };\n\n  function delay(el, e) {\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    state = 0;\n    return focused ? undefined : onOut(el, e);\n  }\n\n  function tracker(e) {\n    x = e.clientX;\n    y = e.clientY;\n  }\n\n  function compare(el, e) {\n    if (timer) timer = clearTimeout(timer);\n    if ((Math.abs(pX - x) + Math.abs(pY - y)) < options.sensitivity) {\n      state = 1;\n      return focused ? undefined : onOver(el, e);\n    } else {\n      pX = x;\n      pY = y;\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n  }\n\n  // Public methods\n  h.options = function(opt) {\n    const focusOptionChanged = opt.handleFocus !== options.handleFocus;\n    options = Object.assign({}, options, opt);\n    if (focusOptionChanged) {\n            options.handleFocus ? addFocus() : removeFocus();\n    }\n\n    return h;\n  };\n\n  function dispatchOver(el, e) {\n    mouseOver = true;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state !== 1) {\n      pX = e.clientX;\n      pY = e.clientY;\n\n      el.addEventListener('mousemove', tracker, false);\n\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOver to support dynamically added elements to dom\n   */\n  function onMouseOver(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOver(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchOut(el, e) {\n    mouseOver = false;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state === 1) {\n      timer = setTimeout(function() {\n        delay(el, e);\n      }, options.timeout);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOut to support dynamically added elements to dom\n   */\n  function onMouseOut(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOut(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchFocus(el, e) {\n    if (!mouseOver) {\n      focused = true;\n      onOver(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchFocus to support dynamically added elements to dom\n   */\n  function onFocus(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchFocus(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchBlur(el, e) {\n    if (!mouseOver && focused) {\n      focused = false;\n      onOut(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchBlur to support dynamically added elements to dom\n   */\n  function onBlur(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchBlur(event.target.closest(selector), event);\n    }\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function addFocus() {\n    parent.addEventListener('focus', onFocus, false);\n    parent.addEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function removeFocus() {\n    parent.removeEventListener('focus', onFocus, false);\n    parent.removeEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  h.remove = function() {\n    if (!parent) {\n      return;\n    }\n\n    parent.removeEventListener('mouseover', onMouseOver, false);\n    parent.removeEventListener('mouseout', onMouseOut, false);\n    removeFocus();\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  if (parent) {\n    parent.addEventListener('mouseover', onMouseOver, false);\n    parent.addEventListener('mouseout', onMouseOut, false);\n  }\n\n  return h;\n};\n","import wpstgHoverIntent from './modules/wpstg-hover-intent';\n\nexport default (function($) {\n  const WPStagingCommon = {\n    continueErrorHandle: true,\n    cache: {\n      elements: [],\n      get: function(selector) {\n        // It is already cached!\n        if ($.inArray(selector, this.elements) !== -1) {\n          return this.elements[selector];\n        }\n\n        // Create cache and return\n        this.elements[selector] = $(selector);\n\n        return this.elements[selector];\n      },\n      refresh: function(selector) {\n        selector.elements[selector] = $(selector);\n      },\n    },\n    listenTooltip: function() {\n      wpstgHoverIntent(document, '.wpstg--tooltip', function(target, event) {\n        target.querySelector('.wpstg--tooltiptext').style.visibility = 'visible';\n      }, function(target, event) {\n        target.querySelector('.wpstg--tooltiptext').style.visibility = 'hidden';\n      });\n    },\n    isEmpty: function(obj) {\n      for (const prop in obj) {\n        if (obj.hasOwnProperty(prop)) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n    // Get the custom themed Swal Modal for WP Staging\n    // Easy to maintain now in one place now\n    getSwalModal: function(isContentCentered = false, customClasses = {}) {\n      // common style for all swal modal used in WP Staging\n      const defaultCustomClasses = {\n        confirmButton: 'wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn wpstg-100-width',\n        cancelButton: 'wpstg--btn--cancel wpstg-blue-primary wpstg-link-btn wpstg-100-width',\n        actions: 'wpstg--modal--actions',\n        popup: isContentCentered ? 'wpstg-swal-popup centered-modal' : 'wpstg-swal-popup',\n      };\n\n      // If a attribute exists in both default and additional attributes,\n      // The class(es) of the additional attribute will overrite the default one.\n      const options = {\n        customClass: Object.assign(defaultCustomClasses, customClasses),\n        buttonsStyling: false,\n        reverseButtons: true,\n        showClass: {\n          popup: 'wpstg--swal2-show wpstg-swal-show',\n        },\n      };\n\n      return wpstgSwal.mixin(options);\n    },\n    showSuccessModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'success',\n        title: 'Success!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showWarningModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'warning',\n        title: '',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showErrorModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'error',\n        title: 'Error!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    getSwalContainer: function() {\n      return wpstgSwal.getContainer();\n    },\n    closeSwalModal: function() {\n      wpstgSwal.close();\n    },\n    /**\n     * Treats a default response object generated by WordPress's\n     * wp_send_json_success() or wp_send_json_error() functions in\n     * PHP, parses it in JavaScript, and either throws if it's an error,\n     * or returns the data if the response is successful.\n     *\n     * @param {object} response\n     * @return {*}\n     */\n    getDataFromWordPressResponse(response) {\n      if (typeof response !== 'object') {\n        throw new Error('Unexpected response (ERR 1341)');\n      }\n\n      if (!response.hasOwnProperty('success')) {\n        throw new Error('Unexpected response (ERR 1342)');\n      }\n\n      if (!response.hasOwnProperty('data')) {\n        throw new Error('Unexpected response (ERR 1343)');\n      }\n\n      if (response.success === false) {\n        if (response.data instanceof Array && response.data.length > 0) {\n          throw new Error(response.data.shift());\n        } else {\n          throw new Error('Response was not successful');\n        }\n      } else {\n        // Successful response. Return the data.\n        return response.data;\n      }\n    },\n    isLoading: function(isLoading) {\n      if (!isLoading || isLoading === false) {\n        WPStagingCommon.cache.get('.wpstg-loader').hide();\n      } else {\n        WPStagingCommon.cache.get('.wpstg-loader').show();\n      }\n    },\n    /**\n     * Convert the given url to make it slug compatible\n     * @param {string} url\n     */\n    slugify: function(url) {\n      return url.toString()\n          .toLowerCase()\n          .normalize('NFD')\n          .replace(/[\\u0300-\\u036f]/g, '')\n          .replace(/\\s+/g, '-')\n          .replace(/&/g, '-and-')\n          .replace(/[^a-z0-9\\-]/g, '')\n          .replace(/-+/g, '-')\n          .replace(/^-*/, '')\n          .replace(/-*$/, '')\n      ;\n    },\n    showAjaxFatalError: function(response, prependMessage, appendMessage) {\n      prependMessage = prependMessage ? prependMessage + '<br/><br/>' : 'Something went wrong! <br/><br/>';\n      appendMessage = appendMessage ? appendMessage + '<br/><br/>' : '<br/><br/>Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.';\n\n      if (response === false) {\n        WPStagingCommon.showError(prependMessage + ' Error: No response.' + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n\n      if (typeof response.error !== 'undefined' && response.error) {\n        WPStagingCommon.showError(prependMessage + ' Error: ' + response.message + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n    },\n    handleFetchErrors: function(response) {\n      if (!response.ok) {\n        WPStagingCommon.showError('Error: ' + response.status + ' - ' + response.statusText + '. Please try again or contact support.');\n      }\n      return response;\n    },\n    showError: function(message) {\n      WPStagingCommon.cache.get('#wpstg-try-again').css('display', 'inline-block');\n      WPStagingCommon.cache.get('#wpstg-cancel-cloning').text('Reset');\n      WPStagingCommon.cache.get('#wpstg-resume-cloning').show();\n      WPStagingCommon.cache.get('#wpstg-error-wrapper').show();\n      WPStagingCommon.cache.get('#wpstg-error-details').show().html(message);\n      WPStagingCommon.cache.get('#wpstg-removing-clone').removeClass('loading');\n      WPStagingCommon.cache.get('.wpstg-loader').hide();\n      $('.wpstg--modal--process--generic-problem').show().html(message);\n    },\n    resetErrors: function() {\n      WPStagingCommon.cache.get('#wpstg-error-details').hide().html('');\n    },\n    /**\n     * Ajax Requests\n     * @param {Object} data\n     * @param {Function} callback\n     * @param {string} dataType\n     * @param {bool} showErrors\n     * @param {int} tryCount\n     * @param {float} incrementRatio\n     * @param errorCallback\n     */\n    ajax: function(data, callback, dataType, showErrors, tryCount, incrementRatio = null, errorCallback = null) {\n      if ('undefined' === typeof (dataType)) {\n        dataType = 'json';\n      }\n\n      if (false !== showErrors) {\n        showErrors = true;\n      }\n\n      tryCount = 'undefined' === typeof (tryCount) ? 0 : tryCount;\n\n      const retryLimit = 10;\n\n      let retryTimeout = 10000 * tryCount;\n\n      incrementRatio = parseInt(incrementRatio);\n      if (!isNaN(incrementRatio)) {\n        retryTimeout *= incrementRatio;\n      }\n\n      $.ajax({\n        url: ajaxurl + '?action=wpstg_processing&_=' + (Date.now() / 1000),\n        type: 'POST',\n        dataType: dataType,\n        cache: false,\n        data: data,\n        error: function(xhr, textStatus, errorThrown) {\n          console.log(xhr.status + ' ' + xhr.statusText + '---' + textStatus);\n\n          if (typeof (errorCallback) === 'function') {\n            // Custom error handler\n            errorCallback(xhr, textStatus, errorThrown);\n\n            if (!WPStagingCommon.continueErrorHandle) {\n              // Reset state\n              WPStagingCommon.continueErrorHandle = true;\n\n              return;\n            }\n          }\n\n          // Default error handler\n          tryCount++;\n          if (tryCount <= retryLimit) {\n            setTimeout(function() {\n              WPStagingCommon.ajax(data, callback, dataType, showErrors, tryCount, incrementRatio);\n              return;\n            }, retryTimeout);\n          } else {\n            const errorCode = 'undefined' === typeof (xhr.status) ? 'Unknown' : xhr.status;\n            WPStagingCommon.showError(\n                'Fatal Error:  ' + errorCode + ' Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.',\n            );\n          }\n        },\n        success: function(data) {\n          if ('function' === typeof (callback)) {\n            callback(data);\n          }\n        },\n        statusCode: {\n          404: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 404 - Can\\'t find ajax request URL! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          500: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Fatal Error 500 - Internal server error while processing the request! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          504: function() {\n            if (tryCount > retryLimit) {\n              WPStagingCommon.showError('Error 504 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          502: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 502 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          503: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 503 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          429: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 429 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          403: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Refresh page or login again! The process should be finished successfully. \\n\\ ');\n            }\n          },\n        },\n      });\n    },\n  };\n\n  return WPStagingCommon;\n})(jQuery);\n","/**\n * WP STAGING basic jQuery replacement\n */\n\n/**\n * Shortcut for document.querySelector() or jQuery's $()\n * Return single element only\n */\nexport function qs(selector) {\n  return document.querySelector(selector);\n}\n\n/**\n * Shortcut for document.querySelector() or jQuery's $()\n * Return collection of elements\n */\nexport function all(selector) {\n  return document.querySelectorAll(selector);\n}\n\n/**\n * alternative of jQuery - $(parent).on(event, selector, handler)\n */\nexport function addEvent(parent, evt, selector, handler) {\n  parent.addEventListener(evt, function(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      handler(event.target.closest(selector), event);\n    }\n  }, false);\n}\n\nexport function slideDown(element, duration = 400) {\n  element.style.display = 'block';\n  element.style.overflow = 'hidden';\n  const height = element.offsetHeight;\n  element.style.height = '0px';\n  element.style.transitionProperty = 'height';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.height = height + 'px';\n    window.setTimeout(() => {\n      element.style.removeProperty('height');\n      element.style.removeProperty('overflow');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function slideUp(element, duration = 400) {\n  element.style.display = 'block';\n  element.style.overflow = 'hidden';\n  const height = element.offsetHeight;\n  element.style.height = height + 'px';\n  element.style.transitionProperty = 'height';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.height = '0px';\n    window.setTimeout(() => {\n      element.style.display = 'none';\n      element.style.removeProperty('height');\n      element.style.removeProperty('overflow');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function getNextSibling(element, selector) {\n  let sibling = element.nextElementSibling;\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling.nextElementSibling;\n  }\n};\n\nexport function getParents(element, selector) {\n  const result = [];\n  for (let parent = element && element.parentElement; parent; parent = parent.parentElement) {\n    if (parent.matches(selector)) {\n      result.push(parent);\n    }\n  }\n\n  return result;\n}\n\n/**\n * Check if element has class name\n * @param element\n * @param className\n * @return {boolean}\n */\nexport function hasClass(element, className) {\n  return (' ' + element.className + ' ').indexOf(' ' + className+ ' ') > -1;\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import WPStagingCommon from '../../wpstg.js';\nimport {qs} from '../../modules/wpstg-dom-utils.js';\nimport 'regenerator-runtime/runtime';\n\nlet WPStagingBackup;\n\n(function($) {\n  window.addEventListener('backups-tab', function() {\n    WPStagingBackup.fetchListing();\n  });\n\n  window.addEventListener('backupListingFinished', function() {\n    fetch(`${ajaxurl}?action=wpstg--backups--import--file-list&_=${Math.random()}&accessToken=${wpstg.accessToken}&nonce=${wpstg.nonce}&withTemplate=true`)\n        .then(WPStagingCommon.handleFetchErrors)\n        .then((res) => res.json())\n        .then((res) => {\n          const $ul = $('.wpstg-backup-list ul');\n          $ul.empty();\n          $ul.html(res);\n        })\n        .catch((e) => WPStagingCommon.showAjaxFatalError(e, '', 'Submit an error report.'))\n    ;\n  });\n\n  window.addEventListener('finishedProcess', function() {\n    window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n  });\n\n  window.addEventListener('finishedProcessWithError', function() {\n    window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n  });\n\n  WPStagingBackup = {\n    performingCancelRequest: false,\n    isCancelled: false,\n    isFinished: false,\n    processInfo: {\n      title: null,\n      interval: null,\n    },\n    modal: {\n      create: {\n        html: null,\n        confirmBtnTxt: null,\n      },\n      process: {\n        html: null,\n        cancelBtnTxt: null,\n        modal: null,\n      },\n      download: {\n        html: null,\n      },\n      import: {\n        html: null,\n        btnTxtNext: null,\n        btnTxtConfirm: null,\n        btnTxtCancel: null,\n        searchReplaceForm: null,\n        containerIntroduction: null,\n        data: {\n          file: null, // file path\n          fileObject: null, // JS \"File\" class instance\n          search: [],\n          replace: [],\n          backupMetadata: {},\n        },\n        baseDirectory: null,\n      },\n    },\n    messages: {\n      WARNING: 'warning',\n      ERROR: 'error',\n      INFO: 'info',\n      DEBUG: 'debug',\n      CRITICAL: 'critical',\n      data: {\n        all: [],\n        info: [],\n        error: [],\n        critical: [],\n        warning: [],\n        debug: [],\n      },\n      shouldWarn() {\n        return WPStagingBackup.messages.data.error.length > 0 ||\n        WPStagingBackup.messages.data.critical.length > 0\n        ;\n      },\n      countByType(type = WPStagingBackup.messages.ERROR) {\n        return WPStagingBackup.messages.data[type].length;\n      },\n      addMessage(message) {\n        if (Array.isArray(message)) {\n          message.forEach((item) => {\n            WPStagingBackup.messages.addMessage(item);\n          });\n          return;\n        }\n        const type = message.type.toLowerCase() || 'info';\n        if (!WPStagingBackup.messages.data[type]) {\n          WPStagingBackup.messages.data[type] = [];\n        }\n        WPStagingBackup.messages.data.all.push(message); // TODO RPoC\n        WPStagingBackup.messages.data[type].push(message);\n      },\n      reset() {\n        WPStagingBackup.messages.data = {\n          all: [],\n          info: [],\n          error: [],\n          critical: [],\n          warning: [],\n          debug: [],\n        };\n      },\n    },\n    timer: {\n      totalSeconds: 0,\n      interval: null,\n      start() {\n        if (null !== WPStagingBackup.timer.interval) {\n          return;\n        }\n\n        const prettify = (seconds) => {\n          console.log(`Process running for ${seconds} seconds`);\n          // If potentially anything can exceed 24h execution time than that;\n          // const _seconds = parseInt(seconds, 10)\n          // const hours = Math.floor(_seconds / 3600)\n          // const minutes = Math.floor(_seconds / 60) % 60\n          // seconds = _seconds % 60\n          //\n          // return [hours, minutes, seconds]\n          //   .map(v => v < 10 ? '0' + v : v)\n          //   .filter((v,i) => v !== '00' || i > 0)\n          //   .join(':')\n          // ;\n          // Are we sure we won't create anything that exceeds 24h execution time? If not then this;\n          return `${(new Date(seconds * 1000)).toISOString().substr(11, 8)}`;\n        };\n\n        WPStagingBackup.timer.interval = setInterval(() => {\n          $('.wpstg--modal--process--elapsed-time').text(prettify(WPStagingBackup.timer.totalSeconds));\n          WPStagingBackup.timer.totalSeconds++;\n        }, 1000);\n      },\n      stop() {\n        WPStagingBackup.timer.totalSeconds = 0;\n        if (WPStagingBackup.timer.interval) {\n          clearInterval(WPStagingBackup.timer.interval);\n          WPStagingBackup.timer.interval = null;\n        }\n      },\n    },\n    status: {\n      hasResponse: null,\n      reTryAfter: 5000,\n    },\n    fetchListing(isResetErrors = true) {\n      WPStagingCommon.isLoading(true);\n\n      $('#backup-messages').text('');\n\n      if (isResetErrors) {\n        WPStagingCommon.resetErrors();\n      }\n\n      return fetch(`${ajaxurl}?action=wpstg--backups--listing&_=${Math.random()}&accessToken=${wpstg.accessToken}&nonce=${wpstg.nonce}`)\n          .then(WPStagingCommon.handleFetchErrors)\n          .then((res) => res.json())\n          .then((res) => {\n            WPStagingCommon.showAjaxFatalError(res, '', 'Submit an error report.');\n            WPStagingCommon.cache.get('#wpstg--tab--backup').html(res);\n            WPStagingCommon.isLoading(false);\n            window.dispatchEvent(new Event('backupListingFinished'));\n            return res;\n          })\n          .catch((e) => WPStagingCommon.showAjaxFatalError(e, '', 'Submit an error report.'))\n      ;\n    },\n    /**\n     * The cancel & cleanup process when we cancel a backup job or when a backup job is stopped due to an error.\n     *\n     * @param {Object} extraParams Extra parameter to send during cancel process\n     * @param {CallableFunction} callback This function is called when a backup cancel/cleanup process response is returned. This callback is always called even if cancel process fails.\n     */\n    cancel(extraParams = {}, callback = null) {\n      WPStagingBackup.timer.stop();\n      clearInterval(WPStagingBackup.processInfo.interval);\n      WPStagingBackup.isCancelled = true;\n      WPStagingBackup.processInfo.interval = null;\n      window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n      WPStagingCommon.closeSwalModal();\n\n      WPStagingCommon.getSwalModal(true).fire({\n        title: 'Cancelling & Cleaning up',\n        text: 'This modal will close automatically when done...',\n        icon: 'info',\n        showConfirmButton: false,\n        showCloseButton: false,\n        showLoaderOnConfirm: false,\n        showCancelButton: false,\n        allowEscapeKey: false,\n        allowOutsideClick: false,\n        width: 650,\n        onRender() {\n          WPStagingBackup.sendCancelRequest(\n              Object.assign({\n                isInit: 'yes',\n              }, extraParams),\n              callback,\n          );\n        },\n      });\n    },\n    sendCancelRequest(extraParams, callback) {\n      if (WPStagingBackup.performingCancelRequest) {\n        return;\n      }\n\n      WPStagingBackup.performingCancelRequest = true;\n\n      WPStagingCommon.ajax(\n          Object.assign({\n            action: 'wpstg--backups--cancel',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          }, extraParams),\n          function(response) {\n            WPStagingBackup.performingCancelRequest = false;\n            WPStagingBackup.isCancelled = false;\n            WPStagingCommon.showAjaxFatalError(response, '', 'Submit an error report.');\n\n            if (!response.hasOwnProperty('status')) {\n              WPStagingCommon.showErrorModal('Cancel process did not finish gracefully. Some temporary files might not have been cleaned up.');\n            }\n\n            if (response.status === true) {\n              WPStagingCommon.closeSwalModal();\n              if (callback !== undefined && callback !== null) {\n                callback();\n              }\n            } else {\n              WPStagingBackup.sendCancelRequest(extraParams, callback);\n            }\n          },\n          'json',\n          false,\n          10, // Don't retry upon failure\n          1.25,\n          function(xhr, textStatus, errorThrown) {\n            WPStagingBackup.performingCancelRequest = false;\n\n            // Todo: Why do we need this?\n            WPStagingCommon.continueErrorHandle = false;\n\n            // Resource is busy, wait for request to finish and try again\n            if (xhr.status === 423) {\n              setTimeout(function() {\n                WPStagingBackup.sendCancelRequest(extraParams, callback);\n              }, 1000);\n              return;\n            }\n            WPStagingCommon.closeSwalModal();\n            WPStagingCommon.showErrorModal('Cancel process did not finish gracefully. Some temporary files might not have been cleaned up.');\n            if (callback !== undefined && callback !== null) {\n              callback();\n            }\n          },\n      );\n    },\n    /**\n   * If process.execute exists, process.data and process.onResponse is not used\n   * process = { data: {}, onResponse: (resp) => {}, onAfterClose: () => {}, execute: () => {}, isShowCancelButton: bool }\n   * @param {object} process\n   */\n    process(process) {\n      if (typeof process.execute !== 'function' && (!process.data || !process.onResponse)) {\n        WPStagingCommon.closeSwalModal();\n        WPStagingCommon.showError('process.data and / or process.onResponse is not set');\n        return;\n      }\n\n      // TODO move to backend and get the contents as xhr response?\n      if (!WPStagingBackup.modal.process.html || !WPStagingBackup.modal.process.cancelBtnTxt) {\n        const $modal = $('#wpstg--modal--backup--process');\n        const html = $modal.html();\n        const btnTxt = $modal.attr('data-cancelButtonText');\n        WPStagingBackup.modal.process.html = html || null;\n        WPStagingBackup.modal.process.cancelBtnTxt = btnTxt || null;\n        $modal.remove();\n      }\n\n      $('body')\n          .off('click', '.wpstg--modal--process--logs--tail')\n          .on('click', '.wpstg--modal--process--logs--tail', function(e) {\n            const logBtn = $(this);\n            e.preventDefault();\n            const container = WPStagingCommon.getSwalContainer();\n            const $logs = $(container).find('.wpstg--modal--process--logs');\n            $logs.toggle();\n            if ($logs.is(':visible')) {\n              logBtn.text(wpstg.i18n.hideLogs);\n              container.childNodes[0].style.width = '97%';\n              container.style['z-index'] = 9999;\n            } else {\n              logBtn.text(wpstg.i18n.showLogs);\n              container.childNodes[0].style.width = '600px';\n            }\n          })\n      ;\n\n      process.isShowCancelButton = false !== process.isShowCancelButton;\n\n      WPStagingBackup.modal.process.modal = WPStagingCommon.getSwalModal(true, {\n        content: 'wpstg--process--content',\n      }).fire({\n        html: WPStagingBackup.modal.process.html,\n        cancelButtonText: WPStagingBackup.modal.process.cancelBtnTxt,\n        showCancelButton: process.isShowCancelButton,\n        showConfirmButton: false,\n        allowOutsideClick: false,\n        allowEscapeKey: false,\n        width: 600,\n        onRender: () => {\n          const _btnCancel = WPStagingCommon.getSwalContainer().getElementsByClassName('wpstg--swal2-cancel wpstg--btn--cancel')[0];\n          const btnCancel = _btnCancel.cloneNode(true);\n          _btnCancel.parentNode.replaceChild(btnCancel, _btnCancel);\n\n          btnCancel.addEventListener('click', function(e) {\n            if (confirm('Do you want to cancel the process?')) {\n              WPStagingBackup.cancel();\n            }\n          });\n\n          if (typeof process.execute === 'function') {\n            process.execute();\n            return;\n          }\n\n          if (!process.data || !process.onResponse) {\n            WPStagingCommon.closeSwalModal();\n            WPStagingCommon.showError('process.data and / or process.onResponse is not set');\n            return;\n          }\n\n          WPStagingCommon.ajax(process.data, process.onResponse);\n        },\n        onAfterClose: () => typeof process.onAfterClose === 'function' && process.onAfterClose(),\n      });\n    },\n    processResponse(response) {\n      if (response === null) {\n        WPStagingCommon.closeSwalModal();\n        WPStagingCommon.showError('Invalid Response; null');\n        throw new Error(`Invalid Response; ${response}`);\n      }\n\n      const $container = $(WPStagingCommon.getSwalContainer());\n      const title = () => {\n        if ((response.title || response.statusTitle)) {\n          $container.find('.wpstg--modal--process--title').text(response.title || response.statusTitle);\n        }\n      };\n      const percentage = () => {\n        if (response.percentage) {\n          $container.find('.wpstg--modal--process--percent').text(response.percentage);\n        }\n      };\n      const logs = () => {\n        if (!response.messages) {\n          return;\n        }\n        const $logsContainer = $container.find('.wpstg--modal--process--logs');\n        const stoppingTypes = [\n          WPStagingBackup.messages.ERROR,\n          WPStagingBackup.messages.CRITICAL,\n        ];\n        const appendMessage = (message) => {\n          if (Array.isArray(message)) {\n            for (const item of message) {\n              appendMessage(item);\n            }\n            return;\n          }\n          const msgClass = `wpstg--modal--process--msg--${message.type.toLowerCase()}`;\n          $logsContainer.append(`<p class=\"${msgClass}\">[${message.type}] - [${message.date}] - ${message.message}</p>`);\n\n          if (stoppingTypes.includes(message.type.toLowerCase())) {\n            window.dispatchEvent(new Event('finishedProcessWithError'));\n            // Callback approach is used to make sure the logs modal is always shown,\n            // after the completion of cancel/cleanup process.\n            // Makes sure cancel/cleanup process doesn't close the logs modal.\n            // Any other approach would have required a lot of refactoring.\n            WPStagingBackup.cancel({}, function() {\n              setTimeout(WPStagingBackup.logsModal, 500);\n            });\n          }\n        };\n        for (const message of response.messages) {\n          if (!message) {\n            continue;\n          }\n          WPStagingBackup.messages.addMessage(message);\n          appendMessage(message);\n        }\n\n        if ($logsContainer.is(':visible')) {\n          $logsContainer.scrollTop($logsContainer[0].scrollHeight);\n        }\n\n        if (!WPStagingBackup.messages.shouldWarn()) {\n          return;\n        }\n\n        const $btnShowLogs = $container.find('.wpstg--modal--process--logs--tail');\n        $btnShowLogs.html($btnShowLogs.attr('data-txt-bad'));\n\n        $btnShowLogs\n            .find('.wpstg--modal--logs--critical-count')\n            .text(WPStagingBackup.messages.countByType(WPStagingBackup.messages.CRITICAL))\n        ;\n\n        $btnShowLogs\n            .find('.wpstg--modal--logs--error-count')\n            .text(WPStagingBackup.messages.countByType(WPStagingBackup.messages.ERROR))\n        ;\n\n        $btnShowLogs\n            .find('.wpstg--modal--logs--warning-count')\n            .text(WPStagingBackup.messages.countByType(WPStagingBackup.messages.WARNING))\n        ;\n      };\n\n      title();\n      percentage();\n      logs();\n\n      if (response.status === true && response.job_done === true) {\n        WPStagingBackup.timer.stop();\n        WPStagingBackup.isCancelled = true;\n\n        window.dispatchEvent(new CustomEvent('finishedProcess', {\n          response: response,\n        }));\n      }\n    },\n    logsModal() {\n      WPStagingCommon.getSwalModal(true, {\n        popup: 'wpstg-swal-popup centered-modal',\n      }).fire({\n        html: `<div class=\"wpstg--modal--error--logs\" style=\"display:block\"></div><div class=\"wpstg--modal--process--logs\" style=\"display:block\"></div>`,\n        width: '97%',\n        onRender: () => {\n          const $container = $(WPStagingCommon.getSwalContainer());\n          $container[0].style['z-index'] = 9999;\n\n          const $logsContainer = $container.find('.wpstg--modal--process--logs');\n          const $errorContainer = $container.find('.wpstg--modal--error--logs');\n          const $translations = $('#wpstg--js--translations');\n          const messages = WPStagingBackup.messages;\n          const title = $translations.attr('data-modal-logs-title')\n              .replace('{critical}', messages.countByType(messages.CRITICAL))\n              .replace('{errors}', messages.countByType(messages.ERROR))\n              .replace('{warnings}', messages.countByType(messages.WARNING))\n        ;\n\n          $errorContainer.before(`<h3>${title}</h3>`);\n          const warnings = [\n            WPStagingBackup.messages.CRITICAL,\n            WPStagingBackup.messages.ERROR,\n            WPStagingBackup.messages.WARNING,\n          ];\n\n          if (!WPStagingBackup.messages.shouldWarn()) {\n            $errorContainer.hide();\n          }\n\n          for (const message of messages.data.all) {\n            const msgClass = `wpstg--modal--process--msg--${message.type.toLowerCase()}`;\n\n            if (warnings.includes(message.type)) {\n              $errorContainer.append(\n                  `<p class=\"${msgClass}\">[${message.type}] - [${message.date}] - ${message.message}</p>`,\n              );\n            }\n            $logsContainer.append(\n                `<p class=\"${msgClass}\">[${message.type}] - [${message.date}] - ${message.message}</p>`,\n            );\n          }\n        },\n        onOpen: (container) => {\n          const $logsContainer = $(container).find('.wpstg--modal--process--logs');\n          $logsContainer.scrollTop($logsContainer[0].scrollHeight);\n        },\n      });\n    },\n    downloadModal({title = null}) {\n      if (null === WPStagingBackup.modal.download.html) {\n        const $el = $('#wpstg--modal--backup--download');\n        WPStagingBackup.modal.download.html = $el.html();\n        $el.remove();\n      }\n\n      WPStagingCommon.getSwalModal(true).fire({\n        'icon': 'success',\n        'html': WPStagingBackup.modal.download.html.replace('{title}', title).replace('{btnTxtLog}', 'Show Logs').replace('{text}', 'You can download or restore this backup at any time.'),\n        'confirmButtonText': 'Close',\n        'showCancelButton': false,\n        'showConfirmButton': true,\n      });\n    },\n    statusStop() {\n      clearInterval(WPStagingBackup.processInfo.interval);\n      WPStagingBackup.processInfo.interval = null;\n      window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n    },\n    statusStart(process) {\n      if (WPStagingBackup.processInfo.interval !== null) {\n        return;\n      }\n      // console.log('Status: Start 2');\n      WPStagingBackup.processInfo.interval = setInterval(() => {\n        if (true === WPStagingBackup.isCancelled) {\n          WPStagingBackup.statusStop();\n          return;\n        }\n\n        if (WPStagingBackup.status.hasResponse === false) {\n          return;\n        }\n\n        WPStagingBackup.status.hasResponse = false;\n        fetch(`${ajaxurl}?action=wpstg--backups--status&${process}=restore&accessToken=${wpstg.accessToken}&nonce=${wpstg.nonce}`)\n            .then((res) => res.json())\n            .then((res) => {\n              WPStagingBackup.status.hasResponse = true;\n              if (typeof res === 'undefined') {\n                WPStagingBackup.statusStop();\n              }\n\n              if (WPStagingBackup.processInfo.title === res.currentStatusTitle) {\n                return;\n              }\n\n              WPStagingBackup.processInfo.title = res.currentStatusTitle;\n              const $container = $(WPStagingCommon.getSwalContainer());\n              $container.find('.wpstg--modal--process--title').text(res.currentStatusTitle);\n              $container.find('.wpstg--modal--process--percent').text('0');\n            })\n            .catch((e) => {\n              WPStagingBackup.status.hasResponse = true;\n              WPStagingCommon.showAjaxFatalError(e, '', 'Submit an error report.');\n            })\n        ;\n      }, 5000);\n    },\n  };\n}(jQuery));\n\nexport default WPStagingBackup;\n","import WPStagingCommon from '../../wpstg.js';\nimport {qs} from '../../modules/wpstg-dom-utils.js';\nimport 'regenerator-runtime/runtime';\nimport WPStagingBackup from './wpstg-backup';\n\nlet WPStagingBackupCreate;\n\n(function($) {\n  window.addEventListener('backups-tab', function() {\n    WPStagingBackupCreate.listen();\n  });\n\n  window.addEventListener('startedCreatingBackup', function() {\n    window.addEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n  });\n\n  WPStagingBackupCreate = {\n    listen() {\n      $('body')\n          .off('click', '#wpstg-new-backup', WPStagingBackupCreate.clickedBackup)\n          .on('click', '#wpstg-new-backup', WPStagingBackupCreate.clickedBackup)\n          .off('change', '.wpstg--swal2-container .wpstg-advanced-options-site input[type=checkbox]')\n          .on('change', '.wpstg--swal2-container .wpstg-advanced-options-site input[type=checkbox]', WPStagingBackupCreate.warnExportMediaWithoutDatabase)\n          .off('change', '[name=\"includedDirectories\\[\\]\"], input#includeDatabaseInBackup, input#includeOtherFilesInWpContent')\n          .on('change', '[type=\"checkbox\"][name=\"includedDirectories\\[\\]\"], input#includeDatabaseInBackup, input#includeOtherFilesInWpContent', WPStagingBackupCreate.disableButtonIfNoSelection)\n      ;\n    },\n    async clickedBackup(e) {\n      WPStagingCommon.resetErrors();\n      e.preventDefault();\n      WPStagingBackup.isCancelled = false;\n\n      if (!WPStagingBackup.modal.create.html || !WPStagingBackup.modal.create.confirmBtnTxt) {\n        const $newBackupModal = $('#wpstg--modal--backup--new');\n        const html = $newBackupModal.html();\n        const btnTxt = $newBackupModal.attr('data-confirmButtonText');\n        WPStagingBackup.modal.create.html = html || null;\n        WPStagingBackup.modal.create.confirmBtnTxt = btnTxt || null;\n        $newBackupModal.remove();\n      }\n\n      const {value: formValues} = await WPStagingCommon.getSwalModal(false, {\n        confirmButton: 'wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n      }).fire({\n        title: '',\n        html: WPStagingBackup.modal.create.html,\n        focusConfirm: false,\n        confirmButtonText: WPStagingBackup.modal.create.confirmBtnTxt,\n        showCancelButton: true,\n        preConfirm: () => {\n          const container = WPStagingCommon.getSwalContainer();\n\n          return {\n            name: container.querySelector('input[name=\"backup_name\"]').value || null,\n            isExportingPlugins: container.querySelector('#includePluginsInBackup:checked') !== null,\n            isExportingMuPlugins: container.querySelector('#includeMuPluginsInBackup:checked') !== null,\n            isExportingThemes: container.querySelector('#includeThemesInBackup:checked') !== null,\n            isExportingUploads: container.querySelector('#includeMediaLibraryInBackup:checked') !== null,\n            isExportingOtherWpContentFiles: container.querySelector('#includeOtherFilesInWpContent:checked') !== null,\n            isExportingDatabase: container.querySelector('#includeDatabaseInBackup:checked') !== null,\n          };\n        },\n      });\n\n      if (!formValues) {\n        return;\n      }\n\n      WPStagingBackup.process({\n        execute: () => {\n          WPStagingBackup.messages.reset();\n          WPStagingBackupCreate.prepareBackup(formValues);\n        },\n      });\n    },\n    prepareBackup(data) {\n      WPStagingCommon.ajax(\n          {\n            action: 'wpstg--backups--prepare-export',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            wpstgExportData: data,\n          },\n          function(response) {\n            if (response.success) {\n              window.dispatchEvent(new Event('startedCreatingBackup'));\n              WPStagingBackup.timer.start();\n\n              WPStagingBackupCreate.createBackup();\n            } else {\n              WPStagingCommon.showAjaxFatalError(response.data, '', 'Submit an error report.');\n            }\n          },\n          'json',\n          false,\n          10,\n          1.25,\n          function(xhr, textStatus, errorThrown) {\n            if (xhr.status === 423) {\n              WPStagingCommon.continueErrorHandle = false;\n              WPStagingBackup.shouldCleanUp = false;\n              WPStagingCommon.closeSwalModal();\n\n              setTimeout(function() {\n                WPStagingBackup.shouldCleanUp = true;\n              }, 1000);\n\n              WPStagingCommon.showErrorModal(xhr.responseJSON.data);\n            } else {\n              WPStagingCommon.continueErrorHandle = true;\n            }\n          },\n      );\n    },\n    createBackup() {\n      const maxBackupSequentialReturnError = 10;\n      let backupReturnedError = 0;\n      WPStagingCommon.resetErrors();\n\n      if (WPStagingBackup.isCancelled) {\n        WPStagingBackup.statusStop();\n        return;\n      }\n      WPStagingCommon.ajax(\n          {\n            action: 'wpstg--backups--export',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          },\n          function(response) {\n            backupReturnedError = 0;\n\n            if (WPStagingBackup.isCancelled) {\n              return;\n            }\n\n            if (typeof response === 'undefined') {\n              setTimeout(function() {\n                WPStagingBackupCreate.createBackup();\n              }, wpstg.delayReq);\n              return;\n            }\n\n            WPStagingBackup.processResponse(response);\n            if (!WPStagingBackup.processInfo.interval) {\n              WPStagingBackup.statusStart('create');\n            }\n\n            if (response.statusTitle === 'JOB_FAIL') {\n              response.messages.push({\n                'type': 'critical',\n                'message': 'There was a PHP fatal error while processing the backup. You might need to check your PHP error log to find out the reason. Please contact WPSTAGING support if you need help.',\n              });\n\n              WPStagingBackup.processResponse(response);\n              WPStagingBackup.cancel();\n              setTimeout(WPStagingBackup.logsModal, 500);\n            } else if (response.statusTitle === 'JOB_RETRY') {\n              WPStagingBackup.processResponse(response);\n              WPStagingBackupCreate.createBackup();\n            }\n\n            if (response.status === false) {\n              WPStagingBackupCreate.createBackup();\n            } else if (response.status === true) {\n              $('#wpstg--progress--status').text('Backup successfully created!');\n\n              if (WPStagingBackup.messages.shouldWarn()) {\n              // noinspection JSIgnoredPromiseFromCall\n                WPStagingBackup.fetchListing();\n                WPStagingBackup.logsModal();\n                return;\n              }\n              WPStagingBackup.statusStop();\n              WPStagingCommon.closeSwalModal();\n              WPStagingBackup.fetchListing()\n                  .then(() => {\n                    if (!response.backupMd5) {\n                      WPStagingCommon.showError('Failed to get backup md5 from response');\n                      return;\n                    }\n\n                    // Wait for fetchListing to populate the DOM with the backup data that we want to read\n                    let $el = '';\n                    let timesWaited = 0;\n                    const intervalWaitForBackupInDom = setInterval(function() {\n                      timesWaited++;\n                      $el = $(`.wpstg-backup[data-md5=\"${response.backupMd5}\"] .wpstg--backup--download`);\n\n                      // Could not find element, let's try again...\n                      if (!$el.length) {\n                        if (timesWaited >= 20) {\n                          // Bail: We tried too many times and couldn't find.\n                          clearInterval(intervalWaitForBackupInDom);\n                        }\n                        return;\n                      }\n\n                      // Found it. No more need for the interval.\n                      clearInterval(intervalWaitForBackupInDom);\n\n                      const backupSize = response.hasOwnProperty('backupSize') ? ' (' + response.backupSize + ')' : '';\n\n                      WPStagingBackup.downloadModal({\n                        title: 'Backup Complete',\n                      });\n                      $('.wpstg--modal--download--logs--wrapper').show();\n                      const $logsContainer = $('.wpstg--modal--process--logs');\n                      WPStagingBackup.messages.data.all.forEach((message) => {\n                        const msgClass = `wpstg--modal--process--msg--${message.type.toLowerCase()}`;\n                        $logsContainer\n                            .append(`<p class=\"${msgClass}\">[${message.type}] - [${message.date}] - ${message.message}</p>`)\n                        ;\n                      });\n                    }, 500);\n                  })\n              ;\n            } else {\n              setTimeout(function() {\n                WPStagingBackupCreate.createBackup();\n              }, wpstg.delayReq);\n            }\n          },\n          'json',\n          false,\n          0, // Don't retry upon failure\n          1.25,\n          function(xhr, textStatus, errorThrown) {\n            WPStagingCommon.continueErrorHandle = false;\n            console.log(xhr);\n            const response = {\n              'messages': [],\n            };\n\n            backupReturnedError++;\n\n            // Prevents loop in case PHP crashes constantly before being able to respond\n            if (backupReturnedError <= maxBackupSequentialReturnError) {\n              WPStagingBackupCreate.createBackup();\n            } else {\n              response.messages.push({\n                'type': 'critical',\n                'message': 'There was a PHP fatal error while processing the backup. You might need to check your PHP error log to find out the reason. Please contact WPSTAGING support if you need help.',\n              });\n\n              WPStagingBackup.processResponse(response);\n              WPStagingBackup.cancel();\n              setTimeout(WPStagingBackup.logsModal, 500);\n            }\n          },\n      );\n    },\n    warnExportMediaWithoutDatabase() {\n      const isExportingDatabase = document.getElementById('includeDatabaseInBackup').checked;\n      const isExportingMediaLibrary = document.getElementById('includeMediaLibraryInBackup').checked;\n\n      if (isExportingMediaLibrary && !isExportingDatabase) {\n        document.getElementById('exportUploadsWithoutDatabaseWarning').style.display = 'block';\n      } else {\n        document.getElementById('exportUploadsWithoutDatabaseWarning').style.display = 'none';\n      }\n    },\n    disableButtonIfNoSelection() {\n      const isExportingAnyDir = $('[type=\"checkbox\"][name=\"includedDirectories\\[\\]\"]:checked').length > 0;\n      const isExportingDatabase = $('input#includeDatabaseInBackup:checked').length === 1;\n      const isExportingOtherFilesInWpContent = $('input#includeOtherFilesInWpContent:checked').length === 1;\n      if (!isExportingAnyDir && !isExportingDatabase && !isExportingOtherFilesInWpContent) {\n        $('.wpstg--swal2-confirm').prop('disabled', true);\n      } else {\n        $('.wpstg--swal2-confirm').prop('disabled', false);\n      }\n    },\n  };\n}(jQuery));\n\nexport default WPStagingBackupCreate;\n","import WPStagingCommon from '../../wpstg.js';\nimport {qs} from '../../modules/wpstg-dom-utils.js';\nimport 'regenerator-runtime/runtime';\nimport WPStagingBackup from './wpstg-backup';\n\nlet WPStagingBackupDelete;\n\n(function($) {\n  window.addEventListener('backups-tab', function() {\n    WPStagingBackupDelete.listen();\n  });\n\n  WPStagingBackupDelete = {\n    listen() {\n      $('#wpstg--tab--backup')\n          .off('click', '.wpstg-delete-backup[data-md5]', WPStagingBackupDelete.delete)\n          .on('click', '.wpstg-delete-backup[data-md5]', WPStagingBackupDelete.delete);\n    },\n    delete(e) {\n      e.preventDefault();\n      WPStagingCommon.resetErrors();\n\n      const htmlContent = 'Are you sure you want to delete this backup?';\n\n      WPStagingCommon.getSwalModal(false, {\n        confirmButton: 'wpstg--btn--confirm wpstg-btn-danger wpstg-link-btn',\n      }).fire({\n        showConfirmButton: true,\n        showCancelButton: true,\n        cancelButtonText: 'Cancel',\n        confirmButtonText: 'Delete',\n        icon: 'warning',\n        title: 'Delete Backup!',\n        html: '<div class=\"wpstg--modal--delete\">' + htmlContent + '</div>',\n      }).then((result) => {\n        if (!result.value) {\n          return;\n        }\n\n        WPStagingCommon.isLoading(true);\n        WPStagingCommon.cache.get('#wpstg-existing-backups').hide();\n        const md5 = this.getAttribute('data-md5');\n        WPStagingCommon.ajax(\n            {\n              action: 'wpstg--backups--delete',\n              md5: md5,\n              accessToken: wpstg.accessToken,\n              nonce: wpstg.nonce,\n            },\n            function(response) {\n              WPStagingCommon.showAjaxFatalError(response, '', ' Please submit an error report by using the REPORT ISSUE button.');\n              WPStagingCommon.isLoading(false);\n              WPStagingBackup.fetchListing();\n            },\n        );\n      });\n    },\n  };\n}(jQuery));\n\nexport default WPStagingBackupDelete;\n","import WPStagingCommon from '../../wpstg.js';\nimport {qs} from '../../modules/wpstg-dom-utils.js';\nimport 'regenerator-runtime/runtime';\nimport WPStagingBackup from './wpstg-backup';\n\nlet WPStagingBackupEdit;\n\n(function($) {\n  window.addEventListener('backups-tab', function() {\n    WPStagingBackupEdit.listen();\n  });\n\n  WPStagingBackupEdit = {\n    listen() {\n      $('#wpstg--tab--backup')\n          .off('click', '.wpstg--backup--edit[data-md5]', WPStagingBackupEdit.edit)\n          .on('click', '.wpstg--backup--edit[data-md5]', WPStagingBackupEdit.edit);\n    },\n    async edit(e) {\n      e.preventDefault();\n\n      const $this = $(this);\n      const name = $this.data('name');\n      const notes = $this.data('notes');\n\n      const {value: formValues} = await WPStagingCommon.getSwalModal().fire({\n        title: '',\n        html: `\n                    <label id=\"wpstg-backup-edit-name\">Backup Name</label>\n                    <input id=\"wpstg-backup-edit-name-input\" class=\"wpstg--swal2-input\" value=\"${name}\" maxlength=\"100\">\n                    <label>Additional Notes</label>\n                    <textarea id=\"wpstg-backup-edit-notes-textarea\" class=\"wpstg--swal2-textarea\" maxlength=\"1000\">${notes}</textarea>\n                  `,\n        focusConfirm: false,\n        confirmButtonText: 'Save',\n        showCancelButton: true,\n        preConfirm: () => ({\n          name: document.getElementById('wpstg-backup-edit-name-input').value || null,\n          notes: document.getElementById('wpstg-backup-edit-notes-textarea').value || null,\n        }),\n      });\n\n      if (!formValues) {\n        return;\n      }\n\n      WPStagingCommon.ajax(\n          {\n            action: 'wpstg--backups--edit',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            md5: $this.data('md5'),\n            name: formValues.name,\n            notes: formValues.notes,\n          },\n          function(response) {\n            WPStagingCommon.showAjaxFatalError(response, '', 'Submit an error report.');\n            // noinspection JSIgnoredPromiseFromCall\n            WPStagingBackup.fetchListing();\n          },\n      );\n    },\n  };\n}(jQuery));\n\nexport default WPStagingBackupEdit;\n","import WPStagingCommon from '../../wpstg.js';\nimport {qs} from '../../modules/wpstg-dom-utils.js';\nimport 'regenerator-runtime/runtime';\nimport WPStagingBackup from './wpstg-backup';\n\nlet WPStagingBackupRestore;\n\n(function($) {\n  window.addEventListener('backups-tab', function() {\n    WPStagingBackupRestore.listen();\n  });\n\n  WPStagingBackupRestore = {\n    listen() {\n      $('body')\n          .off('click', '.wpstg--backup--restore', WPStagingBackupRestore.clickedRestore)\n          .on('click', '.wpstg--backup--restore', WPStagingBackupRestore.clickedRestore);\n    },\n    clickedRestore(e) {\n      WPStagingCommon.resetErrors();\n      e.preventDefault();\n      WPStagingBackup.isCancelled = false;\n\n      WPStagingBackup.modal.import.data.file = this.getAttribute('data-filePath');\n      WPStagingBackupRestore.selectedBackup();\n    },\n    selectedBackup() {\n      WPStagingCommon.ajax(\n          {\n            action: 'wpstg--backups--read-backup-metadata',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            wpstg: {\n              file: WPStagingBackup.modal.import.data.file,\n            },\n          },\n          function(response) {\n            let responseData;\n\n            try {\n              responseData = JSON.parse(WPStagingCommon.getDataFromWordPressResponse(response));\n              // Get the first item of the blogs object:\n              // blogs {1: {someData}} => {someData}\n              const mainNetwork = responseData.networks[Object.keys(responseData.networks)[0]];\n              const mainBlog = mainNetwork.blogs[Object.keys(mainNetwork.blogs)[0]];\n              responseData = mainBlog;\n            } catch (e) {\n              WPStagingCommon.showError(e);\n            }\n\n            WPStagingBackup.modal.import.data.backupMetadata = responseData;\n\n            const postData = new FormData();\n            postData.append('action', 'wpstg--backups--import--file-info');\n            postData.append('accessToken', wpstg.accessToken);\n            postData.append('nonce', wpstg.nonce);\n            postData.append('filePath', WPStagingBackup.modal.import.data.file);\n\n            fetch(ajaxurl, {\n              method: 'POST',\n              body: postData,\n            })\n                .then(WPStagingCommon.handleFetchErrors)\n                .then((res) => res.json())\n                .then((html) => {\n                  WPStagingBackupRestore.importModal(html, postData);\n                })\n                .catch((e) => WPStagingCommon.showAjaxFatalError(e, '', 'Submit an error report.'));\n\n            $('.wpstg--modal--actions .wpstg--swal2-confirm').show();\n            $('.wpstg--modal--actions .wpstg--swal2-confirm').prop('disabled', false);\n          },\n      );\n    },\n    importModal(confirmHtml) {\n      const importSiteBackup = (data) => {\n        WPStagingCommon.resetErrors();\n\n        if (WPStagingBackup.isCancelled) {\n          // console.log('cancelled');\n          WPStagingBackup.statusStop();\n          return;\n        }\n\n        WPStagingBackup.timer.start();\n\n        window.addEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n\n        WPStagingCommon.ajax(\n            {\n              action: 'wpstg--backups--import',\n              accessToken: wpstg.accessToken,\n              nonce: wpstg.nonce,\n            },\n            function(response) {\n              if (WPStagingBackup.isCancelled) {\n                return;\n              }\n\n              if (typeof response === 'undefined') {\n                setTimeout(function() {\n                  importSiteBackup(data);\n                }, wpstg.delayReq);\n                return;\n              }\n\n              WPStagingBackup.processResponse(response);\n              if (!WPStagingBackup.processInfo.interval) {\n                WPStagingBackup.statusStart('restore');\n              }\n\n              if (response.status === false) {\n                importSiteBackup(data);\n              } else if (response.status === true) {\n                window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n                $('#wpstg--progress--status').text('Backup successfully imported!');\n                if (WPStagingBackup.messages.shouldWarn()) {\n                  WPStagingBackup.logsModal();\n                  return;\n                }\n                WPStagingBackup.statusStop();\n                const logEntries = $('.wpstg--modal--process--logs').get(1).innerHTML;\n                const html = '<div class=\"wpstg--modal--process--logs\">' + logEntries + '</div>';\n                const issueFound = html.includes('wpstg--modal--process--msg--warning') || html.includes('wpstg--modal--process--msg--error') ? 'Issues(s) found!<br> ' : '';\n\n                const loginText = WPStagingBackup.modal.import.data.backupMetadata.isExportingDatabase ? 'You will be redirected to the login page after closing this modal.' : '';\n\n                // TODO: remove default classes.\n                WPStagingCommon.getSwalModal(true, {\n                  container: 'wpstg-restore-finished-container',\n                }).fire({\n                  icon: 'success',\n                  title: 'Finished Successfully',\n                  html: '<div id=\"wpstg-restore-success\" class=\"wpstg--grey\">Site has been restored from backup. ' + loginText + '  <br/><br/><span class=\"wpstg--modal--process--msg-found\">' + issueFound + '</span><button class=\"wpstg--modal--process--logs--tail\" data-txt-bad=\"\">Show Logs</button></div><br/>' + html,\n                  onClose: function() {\n                    if (WPStagingBackup.modal.import.data.backupMetadata.isExportingDatabase) {\n                      document.getElementById('wpstg-restore-wait').style.display = 'flex';\n\n                      // Reload in 15 seconds if something goes wrong with the Ajax call.\n                      setTimeout(function() {\n                        document.location.reload(true);\n                      }, 15000);\n\n                      WPStagingCommon.ajax(\n                          {\n                            action: 'raw_wpstg--backups--login-url',\n                            accessToken: wpstg.accessToken,\n                            nonce: wpstg.nonce,\n                          },\n                          function(response) {\n                            const loginUrl = new URL(response.data.loginUrl);\n                            loginUrl.searchParams.set('accessToken', wpstg.accessToken);\n                            loginUrl.searchParams.set('wpstgAfterImport', 'yes');\n                            window.location.href = loginUrl.toString();\n                          },\n                      );\n                    } else {\n                      WPStagingBackup.fetchListing();\n                    }\n                  },\n                },\n                );\n              } else {\n                setTimeout(function() {\n                  importSiteBackup(data);\n                }, wpstg.delayReq);\n              }\n            },\n            'json',\n            false,\n            10, // Don't retry upon failure\n            1.25,\n        );\n      };\n\n      const $modal = $('#wpstg--modal--backup--import');\n\n      WPStagingBackup.modal.import.html = $modal.html();\n      WPStagingBackup.modal.import.baseDirectory = $modal.attr('data-baseDirectory');\n      WPStagingBackup.modal.import.btnTxtNext = $modal.attr('data-nextButtonText');\n      WPStagingBackup.modal.import.btnTxtConfirm = $modal.attr('data-confirmButtonText');\n      WPStagingBackup.modal.import.btnTxtCancel = $modal.attr('data-cancelButtonText');\n\n      WPStagingCommon.getSwalModal()\n          .mixin({\n            progressSteps: ['1', '2'],\n          })\n          .queue([\n            {\n              html: $('.wpstg--modal--backup--import--introduction').first(),\n              confirmButtonText: 'Next',\n              showCancelButton: true,\n              showConfirmButton: true,\n              reverseButtons: true,\n              width: 600,\n              onRender() {\n                $('.wpstg--modal--backup--import--introduction .wpstg-backup-restore-contains-database').hide();\n                $('.wpstg--modal--backup--import--introduction .wpstg-backup-restore-contains-files').hide();\n\n                if (WPStagingBackup.modal.import.data.backupMetadata.isExportingDatabase) {\n                  $('.wpstg--modal--backup--import--introduction .wpstg-backup-restore-contains-database').show();\n                }\n\n                if (\n                  WPStagingBackup.modal.import.data.backupMetadata.isExportingMuPlugins ||\n                  WPStagingBackup.modal.import.data.backupMetadata.isExportingPlugins ||\n                  WPStagingBackup.modal.import.data.backupMetadata.isExportingThemes ||\n                  WPStagingBackup.modal.import.data.backupMetadata.isExportingUploads ||\n                  WPStagingBackup.modal.import.data.backupMetadata.isExportingOtherWpContentFiles\n                ) {\n                  $('.wpstg--modal--backup--import--introduction .wpstg-backup-restore-contains-files').show();\n                }\n              },\n            },\n            {\n              html: confirmHtml,\n              confirmButtonText: 'Restore',\n              showCancelButton: true,\n              showConfirmButton: true,\n              reverseButtons: true,\n              width: 650,\n            },\n          ])\n          .then((res) => {\n            // Early bail: Dismissed, canceled, or in a incoherent state.\n            if (!res || !res.value) {\n              return;\n            }\n\n            // Early bail: Step 1 (Confirm) must be true.\n            if (!res.value[1] || res.value[1] !== true) {\n              return;\n            }\n\n            WPStagingBackup.isCancelled = false;\n\n            const data = WPStagingBackup.modal.import.data;\n\n            // Unset fileObject as we don't need it anymore, and it can't be converted to array.\n            WPStagingBackup.modal.import.data.fileObject = null;\n\n            data['file'] = WPStagingBackup.modal.import.baseDirectory + data['file'];\n\n            WPStagingCommon.ajax(\n                {\n                  action: 'wpstg--backups--prepare-import',\n                  accessToken: wpstg.accessToken,\n                  nonce: wpstg.nonce,\n                  wpstgImportData: data,\n                },\n                function(response) {\n                  if (response.success) {\n                    WPStagingBackup.process({\n                      execute: () => {\n                        WPStagingBackup.messages.reset();\n                        importSiteBackup(data);\n                      },\n                    });\n                  } else {\n                    WPStagingCommon.showAjaxFatalError(response.data, '', 'Submit an error report.');\n                  }\n                },\n                'json',\n                false,\n                10,\n                1.25,\n                function(xhr, textStatus, errorThrown) {\n                  if (xhr.status === 423) {\n                    WPStagingCommon.continueErrorHandle = false;\n                    WPStagingBackup.shouldCleanUp = false;\n                    WPStagingCommon.closeSwalModal();\n\n                    setTimeout(function() {\n                      WPStagingBackup.shouldCleanUp = true;\n                    }, 1000);\n                    WPStagingCommon.showErrorModal(xhr.responseJSON.data);\n                  } else {\n                    WPStagingCommon.continueErrorHandle = true;\n                  }\n                },\n            );\n          });\n    },\n  };\n}(jQuery));\n\nexport default WPStagingBackupRestore;\n","import WPStagingCommon from '../../wpstg.js';\nimport {qs} from '../../modules/wpstg-dom-utils.js';\nimport 'regenerator-runtime/runtime';\nimport WPStagingBackup from './wpstg-backup';\n\nlet WPStagingBackupUpload;\n\n(function($) {\n  window.addEventListener('backups-tab', function() {\n    WPStagingBackupUpload.listen();\n  });\n\n  WPStagingBackupUpload = {\n    isUploading: false,\n    resumable: null,\n    resumableFile: null,\n\n    listen() {\n      document.body.addEventListener('click', function(event) {\n        if (event.target.id === 'wpstg-upload-backup') {\n          WPStagingBackupUpload.uploadModal();\n        }\n      });\n    },\n\n    /**\n     * @see https://caniuse.com/fileapi\n     */\n    uploadNotSupported() {\n      WPStagingCommon.showErrorModal('Your browser do not support the File API, needed for the uploads. Please try a different/updated browser, or upload the Backup using FTP to the folder <strong>wp-content/uploads/wp-staging/backups</strong>');\n    },\n\n    setModalStateStart() {\n      WPStagingBackupUpload.isUploading = false;\n      qs('.wpstg--swal2-container #wpstg-upload-select').style.display = 'block';\n      qs('.wpstg--swal2-container #wpstg-upload-progress').style.display = 'none';\n      qs('.wpstg--swal2-container .wpstg--modal--backup--import--upload--content .wpstg-linear-loader').style.display = 'none';\n    },\n\n    setModalStateUploading() {\n      WPStagingBackupUpload.isUploading = true;\n      qs('.wpstg--swal2-container #wpstg-upload-select').style.display = 'none';\n      qs('.wpstg--swal2-container #wpstg-upload-progress').style.display = 'block';\n      qs('.wpstg--swal2-container .wpstg--modal--backup--import--upload--content .wpstg-linear-loader').style.display = 'block';\n      qs('.wpstg--swal2-container .wpstg--modal--import--upload--process').style.display = 'flex';\n\n      const _btnCancel = WPStagingCommon.getSwalContainer().getElementsByClassName('wpstg--swal2-cancel wpstg--btn--cancel')[0];\n      const btnCancel = _btnCancel.cloneNode(true);\n      _btnCancel.parentNode.replaceChild(btnCancel, _btnCancel);\n\n      btnCancel.addEventListener('click', WPStagingBackupUpload.eventListenerConfirmCancelUpload);\n    },\n\n    eventListenerConfirmCancelUpload() {\n      if (confirm('Do you want to abort the upload?')) {\n        WPStagingBackupUpload.resumable.cancel();\n        WPStagingCommon.closeSwalModal();\n        WPStagingBackupUpload.deleteUnfinishedUploads();\n      }\n    },\n\n    deleteUnfinishedUploads() {\n      WPStagingCommon.ajax(\n          {\n            action: 'wpstg--backups--uploads-delete-unfinished',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          },\n          function(response) {\n          // no-op\n          },\n      );\n    },\n\n    uploadModal() {\n      WPStagingCommon.getSwalModal(true).fire({\n        html: document.getElementById('wpstg--modal--backup--upload').innerHTML,\n        showConfirmButton: false,\n        showCloseButton: false,\n        showLoaderOnConfirm: false,\n        showCancelButton: true,\n        width: 650,\n        allowEscapeKey: () => {\n          return !WPStagingBackupUpload.isUploading;\n        },\n        allowOutsideClick: () => {\n          return !WPStagingBackupUpload.isUploading;\n        },\n        onRender() {\n          WPStagingBackupUpload.deleteUnfinishedUploads();\n          WPStagingBackupUpload.setModalStateStart();\n\n          WPStagingBackupUpload.resumable = new Resumable({\n            target: wpstg.ajaxUrl,\n            chunkSize: wpstg.maxUploadChunkSize,\n            query: {\n              accessToken: wpstg.accessToken,\n              action: 'wpstg--backups--import--file-upload',\n              uniqueIdentifierSuffix: Math.floor(Math.random() * 99999999),\n            },\n            permanentErrors: [400, 401, 403, 404, 409, 415, 500, 501, 507, 413], // These will STOP the upload. Other errors will retry the chunk.\n            fileType: ['wpstg'],\n            simultaneousUploads: 1,\n            prioritizeFirstAndLastChunk: false,\n            testChunks: false,\n            forceChunkSize: true,\n          });\n          WPStagingBackupUpload.resumable.resumableFile = null;\n\n          if (!WPStagingBackupUpload.resumable.support) {\n            WPStagingCommon.closeSwalModal();\n            WPStagingBackupUpload.uploadNotSupported();\n\n            return;\n          }\n\n          WPStagingBackupUpload.resumable.assignBrowse(qs('.wpstg--swal2-container .resumable-browse'));\n          WPStagingBackupUpload.resumable.assignDrop(qs('.wpstg--swal2-container .resumable-drop'));\n\n          WPStagingBackupUpload.resumable.on('fileAdded', WPStagingBackupUpload.handleFileAdded);\n          WPStagingBackupUpload.resumable.on('fileSuccess', WPStagingBackupUpload.handleFileSuccess);\n          WPStagingBackupUpload.resumable.on('error', WPStagingBackupUpload.handleError);\n          WPStagingBackupUpload.resumable.on('progress', WPStagingBackupUpload.handleProgress);\n        },\n      });\n    },\n\n    handleFileAdded(file) {\n      WPStagingBackupUpload.setModalStateUploading();\n\n      WPStagingBackupUpload.resumable.resumableFile = file;\n      WPStagingBackupUpload.resumable.upload();\n    },\n\n    handleFileSuccess(file, message) {\n      WPStagingCommon.closeSwalModal();\n      WPStagingCommon.showSuccessModal('Upload finished!');\n      WPStagingBackup.fetchListing();\n    },\n\n    handleProgress() {\n      const percent = Math.floor(WPStagingBackupUpload.resumable.progress() * 100);\n\n      qs('.wpstg--swal2-container .wpstg--modal--import--upload--progress').style.width = percent + '%';\n      qs('.wpstg--swal2-container .wpstg--modal--import--upload--progress--title > span').textContent = percent + '%';\n    },\n\n    handleError(message, file) {\n      try {\n        const json = JSON.parse(message);\n\n        if (json.hasOwnProperty('data') && json.data.hasOwnProperty('message') ) {\n          if (json.data.hasOwnProperty('isDiskFull') && json.data.isDiskFull) {\n            WPStagingBackupUpload.resumable.cancel();\n            WPStagingCommon.closeSwalModal();\n            WPStagingCommon.showErrorModal(json.data.message);\n            return;\n          }\n\n          if (json.data.hasOwnProperty('backupFailedValidation') && json.data.backupFailedValidation) {\n            WPStagingBackupUpload.resumable.cancel();\n            WPStagingCommon.closeSwalModal();\n            WPStagingCommon.showErrorModal(json.data.message);\n            return;\n          }\n        }\n      } catch (e) {\n        // not a JSON message, no-op\n      }\n\n      // Reduce chunk by 10%, with a minimum of 256kb reduction\n      const reduceChunkBytes = Math.max(256 * 1024, WPStagingBackupUpload.resumable.opts.chunkSize * 0.1);\n\n      WPStagingBackupUpload.resumable.opts.chunkSize = Math.ceil(WPStagingBackupUpload.resumable.opts.chunkSize - reduceChunkBytes);\n\n      if (WPStagingBackupUpload.resumable.opts.chunkSize < 64 * 1024) {\n        WPStagingCommon.closeSwalModal();\n        WPStagingCommon.showErrorModal('We could not upload the backup file, please try uploading it directly using FTP to the folder wp-content/uploads/wp-staging/backups. Please also make sure you have enough free disk space on the server.');\n      }\n\n      WPStagingBackupUpload.deleteUnfinishedUploads();\n\n      console.log(WPStagingBackupUpload.resumable.opts.chunkSize);\n      WPStagingBackupUpload.resumable.files[0].retry();\n    },\n  };\n}(jQuery));\n\nexport default WPStagingBackupUpload;\n"],"names":["parent","selector","onOver","onOut","x","y","pX","pY","mouseOver","focused","h","state","timer","options","sensitivity","interval","timeout","handleFocus","tracker","e","clientX","clientY","compare","el","clearTimeout","Math","abs","undefined","setTimeout","dispatchOver","removeEventListener","addEventListener","this","onMouseOver","event","target","matches","closest","dispatchOut","delay","onMouseOut","onFocus","onBlur","removeFocus","opt","focusOptionChanged","Object","assign","remove","$","WPStagingCommon","continueErrorHandle","cache","elements","get","inArray","refresh","listenTooltip","wpstgHoverIntent","document","querySelector","style","visibility","isEmpty","obj","prop","hasOwnProperty","getSwalModal","isContentCentered","customClasses","defaultCustomClasses","confirmButton","cancelButton","actions","popup","customClass","buttonsStyling","reverseButtons","showClass","wpstgSwal","mixin","showSuccessModal","htmlContent","fire","showConfirmButton","showCancelButton","cancelButtonText","icon","title","html","showWarningModal","showErrorModal","getSwalContainer","getContainer","closeSwalModal","close","getDataFromWordPressResponse","response","Error","success","data","Array","length","shift","isLoading","show","hide","slugify","url","toString","toLowerCase","normalize","replace","showAjaxFatalError","prependMessage","appendMessage","showError","window","WPStaging","warnIfClosingDuringProcess","error","message","handleFetchErrors","ok","status","statusText","css","text","removeClass","resetErrors","ajax","callback","dataType","showErrors","tryCount","incrementRatio","errorCallback","retryLimit","retryTimeout","parseInt","isNaN","ajaxurl","Date","now","type","xhr","textStatus","errorThrown","console","log","errorCode","statusCode","jQuery","qs","WPStagingBackup","runtime","exports","Op","prototype","hasOwn","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","GenStateSuspendedStart","method","arg","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","done","GenStateSuspendedYield","makeInvokeMethod","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","resolve","reject","result","__await","then","unwrapped","previousPromise","callInvokeWithMethodAndArg","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","i","constructor","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","Function","fetchListing","fetch","random","wpstg","accessToken","nonce","res","json","$ul","empty","WPStagingBackupCreate","WPStagingBackupDelete","WPStagingBackupEdit","WPStagingBackupRestore","WPStagingBackupUpload","performingCancelRequest","isCancelled","isFinished","processInfo","modal","confirmBtnTxt","process","cancelBtnTxt","download","btnTxtNext","btnTxtConfirm","btnTxtCancel","searchReplaceForm","containerIntroduction","file","fileObject","search","backupMetadata","baseDirectory","messages","WARNING","ERROR","INFO","DEBUG","CRITICAL","all","critical","warning","debug","shouldWarn","countByType","addMessage","isArray","item","totalSeconds","start","setInterval","seconds","toISOString","substr","clearInterval","hasResponse","reTryAfter","isResetErrors","dispatchEvent","Event","cancel","extraParams","showCloseButton","showLoaderOnConfirm","allowEscapeKey","allowOutsideClick","width","onRender","sendCancelRequest","isInit","action","execute","onResponse","$modal","btnTxt","attr","off","on","logBtn","preventDefault","container","$logs","find","toggle","is","i18n","hideLogs","childNodes","showLogs","isShowCancelButton","content","_btnCancel","getElementsByClassName","btnCancel","cloneNode","parentNode","replaceChild","confirm","onAfterClose","processResponse","$container","statusTitle","percentage","$logsContainer","stoppingTypes","msgClass","append","date","includes","logsModal","scrollTop","scrollHeight","$btnShowLogs","logs","job_done","CustomEvent","$errorContainer","$translations","before","warnings","onOpen","downloadModal","$el","statusStop","statusStart","currentStatusTitle","listen","clickedBackup","warnExportMediaWithoutDatabase","disableButtonIfNoSelection","$newBackupModal","focusConfirm","confirmButtonText","preConfirm","isExportingPlugins","isExportingMuPlugins","isExportingThemes","isExportingUploads","isExportingOtherWpContentFiles","isExportingDatabase","formValues","prepareBackup","wpstgExportData","createBackup","shouldCleanUp","responseJSON","backupReturnedError","backupMd5","timesWaited","intervalWaitForBackupInDom","backupSize","delayReq","getElementById","checked","isExportingMediaLibrary","display","isExportingAnyDir","isExportingOtherFilesInWpContent","md5","_this","getAttribute","edit","$this","notes","clickedRestore","selectedBackup","responseData","mainNetwork","JSON","parse","networks","blogs","postData","FormData","body","importModal","confirmHtml","importSiteBackup","innerHTML","issueFound","loginText","onClose","location","reload","loginUrl","URL","searchParams","set","href","progressSteps","queue","first","wpstgImportData","isUploading","resumable","resumableFile","id","uploadModal","uploadNotSupported","setModalStateStart","setModalStateUploading","eventListenerConfirmCancelUpload","deleteUnfinishedUploads","Resumable","ajaxUrl","chunkSize","maxUploadChunkSize","query","uniqueIdentifierSuffix","floor","permanentErrors","fileType","simultaneousUploads","prioritizeFirstAndLastChunk","testChunks","forceChunkSize","support","assignBrowse","assignDrop","handleFileAdded","handleFileSuccess","handleError","handleProgress","upload","percent","progress","textContent","isDiskFull","backupFailedValidation","reduceChunkBytes","max","opts","ceil","files","retry"],"mappings":"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"}